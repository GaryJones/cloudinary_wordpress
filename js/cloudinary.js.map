{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./css/src/main.scss","webpack:///./js/src/components/global-transformations.js","webpack:///./js/src/components/media-library.js","webpack:///./js/src/components/notices.js","webpack:///./js/src/components/settings-page.js","webpack:///./js/src/components/sync.js","webpack:///./js/src/components/terms-order.js","webpack:///./js/src/components/widget.js","webpack:///./js/src/main.js","webpack:///./node_modules/loading-attribute-polyfill/loading-attribute-polyfill.min.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;;AAEA;AACA;;AAEe,qFAAsB,EAAC;;;;;;;;;;;;;AC3PtC;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;;AAEJ;AACA;AACA,IAAI;;AAEJ;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEe,4EAAa,EAAC;;AAE7B;AACA;;;;;;;;;;;;;AClCA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH,EAAE;AACF;;AAEA;AACA;;AAEe,sEAAO,EAAC;;;;;;;;;;;;ACnCvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,EAAE;AAClC;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,EAAE,SAAS,EAAE,UAAU,EAAE;AACvE;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF,CAAC;;;;;;;;;;;;;ACzID;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA,IAAI;AACJ,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;;AAEe,mEAAI,EAAC;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC5ID;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ,oBAAoB,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,6CAA6C,YAAY;AACzD;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD,GAAG;AACnD,gCAAgC,GAAG;AACnC;AACA,IAAI;AACJ,2CAA2C,GAAG;AAC9C;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C;AAC7C;;AAEA;AACA,EAAE;AACF;AACA;AACA,yBAAyB;AACzB;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB;AACpB;AACA;;AAEA;AACA;AACA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,gBAAgB,GAAG,QAAQ;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oDAAoD;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEe,yEAAU,EAAC;;;;;;;;;;;;AC5W1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,cAAc,qBAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,KAAK;AACL,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACoC;;AAEpC;AACA;AACA;AACkD;AACb;AACI;AAC+B;AACtB;AACI;AACX;;AAEV;;AAEjC;AACA;;AAEA;AACO;AACP,CAAC,4EAAQ;AACT,CAAC,8DAAI;AACL,CAAC,mEAAM;AACP,CAAC,iGAAqB;AACtB,CAAC,2EAAU;AACX,CAAC,+EAAY;AACb,CAAC,oEAAO;AACR;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa,WAAW,yGAAyG,IAAI,uHAAuH,cAAc,aAAa,0OAA0O,wIAAwI,4FAA4F,cAAc,oCAAoC,4BAA4B,wOAAwO,gWAAgW,IAAI,aAAa,0NAA0N,4BAA4B,aAAa,oIAAoI,yHAAyH,KAAK,GAAG,GAAG,gNAAgN,uBAAuB,4BAA4B,eAAe,qBAAqB,GAAG,kFAAkF,IAAI,oIAAoI,KAAK,yDAAyD,sCAAsC,GAAG","file":"cloudinary.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/src/main.js\");\n","// extracted by mini-css-extract-plugin\nexport {};","/* global CLD_GLOBAL_TRANSFORMATIONS samplePlayer */\nconst Global_Transformations = {\n\tsample: {\n\t\timage: document.getElementById('transformation-sample-image'),\n\t\tvideo: document.getElementById('transformation-sample-video'),\n\t},\n\tpreview: {\n\t\timage: document.getElementById('sample-image'),\n\t\tvideo: document.getElementById('sample-video'),\n\t},\n\tfields: document.getElementsByClassName('cld-field'),\n\tbutton: {\n\t\timage: document.getElementById('refresh-image-preview'),\n\t\tvideo: document.getElementById('refresh-video-preview'),\n\t},\n\tspinner: {\n\t\timage: document.getElementById('image-loader'),\n\t\tvideo: document.getElementById('video-loader'),\n\t},\n\tactiveItem: null,\n\telements: {\n\t\timage: [],\n\t\tvideo: [],\n\t},\n\t_placeItem(item) {\n\t\tif (null !== item) {\n\t\t\titem.style.display = 'block';\n\t\t\titem.style.visibility = 'visible';\n\t\t\titem.style.position = 'absolute';\n\t\t\titem.style.top =\n\t\t\t\titem.parentElement.clientHeight / 2 -\n\t\t\t\titem.clientHeight / 2 +\n\t\t\t\t'px';\n\t\t\titem.style.left =\n\t\t\t\titem.parentElement.clientWidth / 2 -\n\t\t\t\titem.clientWidth / 2 +\n\t\t\t\t'px';\n\t\t}\n\t},\n\t_setLoading(type) {\n\t\tthis.button[type].style.display = 'block';\n\t\tthis._placeItem(this.button[type]);\n\t\tthis.preview[type].style.opacity = '0.1';\n\t},\n\t_build(type) {\n\t\tthis.sample[type].innerHTML = '';\n\t\tthis.elements[type] = [];\n\t\tfor (const item of this.fields) {\n\t\t\tif (type !== item.dataset.context) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet value = item.value.trim();\n\t\t\tif (value.length) {\n\t\t\t\tif ('select-one' === item.type) {\n\t\t\t\t\tif ('none' === value) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvalue = item.dataset.meta + '_' + value;\n\t\t\t\t} else {\n\t\t\t\t\ttype = item.dataset.context;\n\t\t\t\t\tvalue = this._transformations(value, type, true);\n\t\t\t\t}\n\t\t\t\t// Apply value if valid.\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.elements[type].push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet transformations = '';\n\t\tif (this.elements[type].length) {\n\t\t\ttransformations =\n\t\t\t\t'/' + this.elements[type].join(',').replace(/ /g, '%20');\n\t\t}\n\t\tthis.sample[type].textContent = transformations;\n\t\tthis.sample[type].parentElement.href =\n\t\t\t'https://res.cloudinary.com/demo/' +\n\t\t\tthis.sample[type].parentElement.innerText\n\t\t\t\t.trim()\n\t\t\t\t.replace('../', '')\n\t\t\t\t.replace(/ /g, '%20');\n\t},\n\t_clearLoading(type) {\n\t\tthis.spinner[type].style.visibility = 'hidden';\n\t\tthis.activeItem = null;\n\t\tthis.preview[type].style.opacity = 1;\n\t},\n\t_refresh(e, type) {\n\t\tif (e) {\n\t\t\te.preventDefault();\n\t\t}\n\t\tconst self = this;\n\t\tconst new_src =\n\t\t\tCLD_GLOBAL_TRANSFORMATIONS[type].preview_url +\n\t\t\tself.elements[type].join(',') +\n\t\t\tCLD_GLOBAL_TRANSFORMATIONS[type].file;\n\t\tthis.button[type].style.display = 'none';\n\t\tthis._placeItem(this.spinner[type]);\n\t\tif (type === 'image') {\n\t\t\tconst newImg = new Image();\n\t\t\tnewImg.onload = function () {\n\t\t\t\tself.preview[type].src = this.src;\n\t\t\t\tself._clearLoading(type);\n\t\t\t\tnewImg.remove();\n\t\t\t};\n\t\t\tnewImg.onerror = function () {\n\t\t\t\talert(CLD_GLOBAL_TRANSFORMATIONS[type].error);\n\t\t\t\tself._clearLoading(type);\n\t\t\t};\n\t\t\tnewImg.src = new_src;\n\t\t} else {\n\t\t\tconst transformations = self._transformations(\n\t\t\t\tself.elements[type].join(','),\n\t\t\t\ttype\n\t\t\t);\n\t\t\tsamplePlayer.source({\n\t\t\t\tpublicId: 'dog',\n\t\t\t\ttransformation: transformations,\n\t\t\t});\n\t\t\tself._clearLoading(type);\n\t\t}\n\t},\n\t_transformations(input, type, string = false) {\n\t\tconst set = CLD_GLOBAL_TRANSFORMATIONS[type].valid_types;\n\t\tlet value = null;\n\t\tconst elements = input.split('/');\n\t\tconst valid_elements = [];\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst parts = elements[i].split(',');\n\t\t\tlet valid_parts;\n\t\t\tif (true === string) {\n\t\t\t\tvalid_parts = [];\n\t\t\t} else {\n\t\t\t\tvalid_parts = {};\n\t\t\t}\n\t\t\tfor (let p = 0; p < parts.length; p++) {\n\t\t\t\tconst key_val = parts[p].trim().split('_');\n\t\t\t\tif (\n\t\t\t\t\tkey_val.length <= 1 ||\n\t\t\t\t\ttypeof set[key_val[0]] === 'undefined'\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst option = key_val.shift();\n\t\t\t\tconst instruct = key_val.join('_');\n\t\t\t\tif (true === string) {\n\t\t\t\t\tif ('f' === option || 'q' === option) {\n\t\t\t\t\t\tfor (const t in this.elements[type]) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\toption + '_' ===\n\t\t\t\t\t\t\t\tthis.elements[type][t].substr(0, 2)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.elements[type].splice(t, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvalid_parts.push(parts[p]);\n\t\t\t\t} else {\n\t\t\t\t\tvalid_parts[set[option]] = instruct.trim();\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet length = 0;\n\t\t\tif (true === string) {\n\t\t\t\tlength = valid_parts.length;\n\t\t\t} else {\n\t\t\t\tlength = Object.keys(valid_parts).length;\n\t\t\t}\n\t\t\tif (length) {\n\t\t\t\tif (true === string) {\n\t\t\t\t\tvalid_parts = valid_parts.join(',');\n\t\t\t\t}\n\t\t\t\tvalid_elements.push(valid_parts);\n\t\t\t}\n\t\t}\n\n\t\tif (valid_elements.length) {\n\t\t\tif (true === string) {\n\t\t\t\tvalue = valid_elements.join('/').trim();\n\t\t\t} else {\n\t\t\t\tvalue = valid_elements;\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\t_reset() {\n\t\tfor (const item of this.fields) {\n\t\t\titem.value = null;\n\t\t}\n\t\tfor (const type in this.button) {\n\t\t\tthis._build(type);\n\t\t\tthis._refresh(null, type);\n\t\t}\n\t},\n\t_input(input) {\n\t\tif (\n\t\t\ttypeof input.dataset.context !== 'undefined' &&\n\t\t\tinput.dataset.context.length\n\t\t) {\n\t\t\tconst type = input.dataset.context;\n\t\t\tthis._setLoading(type);\n\t\t\tthis._build(type);\n\t\t}\n\t},\n\t_init() {\n\t\tif (typeof CLD_GLOBAL_TRANSFORMATIONS !== 'undefined') {\n\t\t\tconst self = this;\n\n\t\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\t\tfor (const type in self.button) {\n\t\t\t\t\tif (self.button[type]) {\n\t\t\t\t\t\tself.button[type].addEventListener('click', function (\n\t\t\t\t\t\t\te\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tself._refresh(e, type);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const item of self.fields) {\n\t\t\t\t\titem.addEventListener('input', function () {\n\t\t\t\t\t\tself._input(this);\n\t\t\t\t\t});\n\t\t\t\t\titem.addEventListener('change', function () {\n\t\t\t\t\t\tself._input(this);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// Init.\n\t\t\t\tfor (const type in CLD_GLOBAL_TRANSFORMATIONS) {\n\t\t\t\t\tself._build(type);\n\t\t\t\t\tself._refresh(null, type);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// listen to AJAX add-tag complete\n\t\t\tjQuery(document).ajaxComplete(function (event, xhr, settings) {\n\t\t\t\t// bail early if is other ajax call\n\t\t\t\tif (settings.data.indexOf('action=add-tag') === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// bail early if response contains error\n\t\t\t\tif (xhr.responseText.indexOf('wp_error') !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself._reset();\n\t\t\t});\n\t\t}\n\t},\n};\n\n// Init.\nGlobal_Transformations._init();\n\nexport default Global_Transformations;\n","/* global CLD_ML */\nconst Media_Library = {\n\twpWrap: document.getElementById('wpwrap'),\n\twpContent: document.getElementById('wpbody-content'),\n\tlibraryWrap: document.getElementById('cloudinary-embed'),\n\t_init() {\n\t\tconst self = this;\n\t\tif (typeof CLD_ML !== 'undefined') {\n\t\t\tcloudinary.openMediaLibrary(CLD_ML.mloptions, {\n\t\t\t\tinsertHandler() {\n\t\t\t\t\t// @todo: Determin what to do here.\n\t\t\t\t\talert('Import is not yet implemented.');\n\t\t\t\t},\n\t\t\t});\n\n\t\t\twindow.addEventListener('resize', function () {\n\t\t\t\tself._resize();\n\t\t\t});\n\n\t\t\tself._resize();\n\t\t}\n\t},\n\t_resize() {\n\t\tconst style = getComputedStyle(this.wpContent);\n\t\tthis.libraryWrap.style.height =\n\t\t\tthis.wpWrap.offsetHeight -\n\t\t\tparseInt(style.getPropertyValue('padding-bottom')) +\n\t\t\t'px';\n\t},\n};\n\nexport default Media_Library;\n\n// Init.\nMedia_Library._init();\n","/* global CLDIS */\nconst Notices = {\n\t_init() {\n\t\tconst self = this;\n\t\tif (typeof CLDIS !== 'undefined') {\n\t\t\tconst notices = document.getElementsByClassName('cld-notice');\n\t\t\t[...notices].forEach((notice) => {\n\t\t\t\tnotice.addEventListener('click', (ev) => {\n\t\t\t\t\t// WordPress has an onClick that cannot be unbound.\n\t\t\t\t\t// So, we have the click on our Notice, and act on the\n\t\t\t\t\t// button as a target.\n\t\t\t\t\tif ('notice-dismiss' === ev.target.className) {\n\t\t\t\t\t\tself._dismiss(notice);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\t_dismiss(notice) {\n\t\tconst token = notice.dataset.dismiss;\n\t\tconst duration = notice.dataset.duration;\n\t\twp.ajax.send({\n\t\t\turl: CLDIS.url,\n\t\t\tdata: {\n\t\t\t\ttoken,\n\t\t\t\tduration,\n\t\t\t\t_wpnonce: CLDIS.nonce,\n\t\t\t},\n\t\t});\n\t},\n};\n\n// Init.\nwindow.addEventListener('load', Notices._init());\n\nexport default Notices;\n","(function () {\n\t// Disable the \"off\" dropdown option for Autoplay if\n\t// the player isn't set to Cloudinary or if Show Controls if unchecked.\n\tconst disableAutoplayOff = function () {\n\t\tconst player = jQuery('#field-video_player').val();\n\t\tconst showControls = jQuery('#field-video_controls').prop('checked');\n\t\tconst offSelection = jQuery(\n\t\t\t'#field-video_autoplay_mode option[value=\"off\"]'\n\t\t);\n\n\t\tif (player === 'cld' && !showControls) {\n\t\t\toffSelection.prop('disabled', true);\n\t\t\tif (offSelection.prop('selected')) {\n\t\t\t\toffSelection.next().prop('selected', true);\n\t\t\t}\n\t\t} else {\n\t\t\toffSelection.prop('disabled', false);\n\t\t}\n\t};\n\n\tdisableAutoplayOff();\n\tjQuery(document).on('change', '#field-video_player', disableAutoplayOff);\n\tjQuery(document).on('change', '#field-video_controls', disableAutoplayOff);\n\n\tjQuery(document).ready(function ($) {\n\t\tif ($.isFunction($.fn.wpColorPicker)) {\n\t\t\t$('.regular-color').wpColorPicker();\n\t\t}\n\n\t\t// Initilize instance events\n\t\t$(document).on('tabs.init', function () {\n\t\t\tconst tabs = $('.settings-tab-trigger'),\n\t\t\t\tsections = $('.settings-tab-section');\n\n\t\t\t// Create instance bindings\n\t\t\t$(this).on('click', '.settings-tab-trigger', function (e) {\n\t\t\t\tconst clicked = $(this),\n\t\t\t\t\ttarget = $(clicked.attr('href'));\n\n\t\t\t\t// Trigger an instance action.\n\t\t\t\te.preventDefault();\n\n\t\t\t\ttabs.removeClass('active');\n\t\t\t\tsections.removeClass('active');\n\n\t\t\t\tclicked.addClass('active');\n\t\t\t\ttarget.addClass('active');\n\n\t\t\t\t// Trigger the tabbed event.\n\t\t\t\t$(document).trigger('settings.tabbed', clicked);\n\t\t\t});\n\n\t\t\t// Bind conditions.\n\t\t\t$('.cld-field')\n\t\t\t\t.not('[data-condition=\"false\"]')\n\t\t\t\t.each(function () {\n\t\t\t\t\tconst field = $(this);\n\t\t\t\t\tconst condition = field.data('condition');\n\n\t\t\t\t\tfor (const f in condition) {\n\t\t\t\t\t\tlet target = $('#field-' + f);\n\t\t\t\t\t\tconst value = condition[f];\n\t\t\t\t\t\tconst wrapper = field.closest('tr');\n\n\t\t\t\t\t\tif (!target.length) {\n\t\t\t\t\t\t\ttarget = $(`[id^=field-${f}-]`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet fieldIsSet = false;\n\n\t\t\t\t\t\ttarget.on('change init', function (_, isInit = false) {\n\t\t\t\t\t\t\tif (fieldIsSet && isInit) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet fieldCondition =\n\t\t\t\t\t\t\t\tthis.value === value || this.checked;\n\n\t\t\t\t\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\t\t\t\t\tswitch (value[1]) {\n\t\t\t\t\t\t\t\t\tcase 'neq':\n\t\t\t\t\t\t\t\t\t\tfieldCondition =\n\t\t\t\t\t\t\t\t\t\t\tthis.value !== value[0];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'gt':\n\t\t\t\t\t\t\t\t\t\tfieldCondition = this.value > value[0];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'lt':\n\t\t\t\t\t\t\t\t\t\tfieldCondition = this.value < value[0];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (fieldCondition) {\n\t\t\t\t\t\t\t\twrapper.show();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twrapper.hide();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfieldIsSet = true;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\ttarget.trigger('init', true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t$('#field-cloudinary_url')\n\t\t\t\t.on('input change', function () {\n\t\t\t\t\tconst field = $(this),\n\t\t\t\t\t\tvalue = field.val();\n\n\t\t\t\t\tconst reg = new RegExp(\n\t\t\t\t\t\t/^(?:CLOUDINARY_URL=)?(cloudinary:\\/\\/){1}(\\d)*[:]{1}[^:@]*[@]{1}[^@]*$/g\n\t\t\t\t\t);\n\t\t\t\t\tif (reg.test(value)) {\n\t\t\t\t\t\tfield.addClass('settings-valid-field');\n\t\t\t\t\t\tfield.removeClass('settings-invalid-field');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfield.removeClass('settings-valid-field');\n\t\t\t\t\t\tfield.addClass('settings-invalid-field');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.trigger('change');\n\n\t\t\t$('[name=\"cloudinary_sync_media[auto_sync]\"]').change(function () {\n\t\t\t\tif ($(this).val() === 'on') {\n\t\t\t\t\t$('#auto-sync-alert-btn').click();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// On Ready, find all render trigger elements and fire their events.\n\t\t$('.render-trigger[data-event]').each(function () {\n\t\t\tconst trigger = $(this),\n\t\t\t\tevent = trigger.data('event');\n\t\t\ttrigger.trigger(event, this);\n\t\t});\n\t});\n})(window, jQuery);\n","/* global cloudinaryApi */\n\nconst Sync = {\n\tprogress: document.getElementById('progress-wrapper'),\n\tsubmitButton: document.getElementById('submit'),\n\tstopButton: document.getElementById('stop-sync'),\n\tcompleted: document.getElementById('completed-notice'),\n\tshow: 'inline-block',\n\thide: 'none',\n\tisRunning: false,\n\tgetStatus: function getStatus() {\n\t\tconst url = cloudinaryApi.restUrl + 'cloudinary/v1/attachments';\n\n\t\twp.ajax\n\t\t\t.send({\n\t\t\t\turl,\n\t\t\t\ttype: 'GET',\n\t\t\t\tbeforeSend(request) {\n\t\t\t\t\trequest.setRequestHeader('X-WP-Nonce', cloudinaryApi.nonce);\n\t\t\t\t},\n\t\t\t})\n\t\t\t.done(function (data) {\n\t\t\t\tSync.isRunning = data.is_running;\n\t\t\t\tif (Sync.isRunning) {\n\t\t\t\t\tsetTimeout(Sync.getStatus, 10000);\n\t\t\t\t}\n\t\t\t\tSync._updateUI(data);\n\t\t\t});\n\t},\n\tstopSync: function stopSync() {\n\t\tconst url = cloudinaryApi.restUrl + 'cloudinary/v1/sync';\n\n\t\tSync.isRunning = false;\n\n\t\twp.ajax\n\t\t\t.send({\n\t\t\t\turl,\n\t\t\t\tdata: {\n\t\t\t\t\tstop: true,\n\t\t\t\t},\n\t\t\t\tbeforeSend(request) {\n\t\t\t\t\trequest.setRequestHeader('X-WP-Nonce', cloudinaryApi.nonce);\n\t\t\t\t},\n\t\t\t})\n\t\t\t.done(function (data) {\n\t\t\t\tSync._updateUI(data);\n\t\t\t});\n\t},\n\tpushAttachments: function pushAttachments() {\n\t\tconst url = cloudinaryApi.restUrl + 'cloudinary/v1/sync';\n\n\t\tSync.isRunning = true;\n\t\tSync.progress.style.display = Sync.show;\n\n\t\twp.ajax\n\t\t\t.send({\n\t\t\t\turl,\n\t\t\t\tbeforeSend(request) {\n\t\t\t\t\trequest.setRequestHeader('X-WP-Nonce', cloudinaryApi.nonce);\n\t\t\t\t},\n\t\t\t})\n\t\t\t.done(function () {\n\t\t\t\tsetTimeout(Sync.getStatus, 10000);\n\t\t\t});\n\t},\n\t_updateUI: function _updateUI(data) {\n\t\tif (data.percent < 100 && typeof data.started !== 'undefined') {\n\t\t\tthis.submitButton.style.display = this.hide;\n\t\t\tthis.stopButton.style.display = this.show;\n\t\t} else if (data.percent >= 100 && typeof data.started !== 'undefined') {\n\t\t\tthis.submitButton.style.display = this.hide;\n\t\t\tthis.stopButton.style.display = this.show;\n\t\t} else if (data.pending > 0) {\n\t\t\tthis.submitButton.style.display = this.show;\n\t\t\tthis.stopButton.style.display = this.hide;\n\t\t} else if (data.processing > 0) {\n\t\t\tthis.stopButton.style.display = this.show;\n\t\t} else {\n\t\t\tthis.stopButton.style.display = this.hide;\n\t\t}\n\n\t\tif (data.percent === 100) {\n\t\t\tthis.completed.style.display = this.show;\n\t\t}\n\n\t\tif (this.isRunning) {\n\t\t\tthis.progress.style.display = this.show;\n\t\t} else {\n\t\t\tthis.progress.style.display = this.hide;\n\t\t}\n\t},\n\t_start: function _start(e) {\n\t\te.preventDefault();\n\t\tSync.stopButton.style.display = Sync.show;\n\t\tSync.submitButton.style.display = Sync.hide;\n\t\tSync.pushAttachments();\n\t},\n\t_reset: function _reset() {\n\t\tSync.submitButton.style.display = Sync.hide;\n\t\tSync.getStatus();\n\t},\n\t_init(fn) {\n\t\tif (typeof cloudinaryApi !== 'undefined') {\n\t\t\tif (\n\t\t\t\tdocument.attachEvent\n\t\t\t\t\t? document.readyState === 'complete'\n\t\t\t\t\t: document.readyState !== 'loading'\n\t\t\t) {\n\t\t\t\tfn();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t\t\t}\n\t\t}\n\t},\n};\n\nexport default Sync;\n\n// Add it a trigger watch to stop deactivation.\nconst triggers = document.getElementsByClassName('cld-deactivate');\n[...triggers].forEach((trigger) => {\n\ttrigger.addEventListener('click', function (ev) {\n\t\tif (\n\t\t\t!confirm(\n\t\t\t\twp.i18n.__(\n\t\t\t\t\t'Caution: Your storage setting is currently set to \"Cloudinary only\", disabling the plugin will result in broken links to media assets. Are you sure you want to continue?',\n\t\t\t\t\t'cloudinary'\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\t\t\tev.preventDefault();\n\t\t}\n\t});\n});\n\n// Init.\nSync._init(function () {\n\tSync._reset();\n\tSync.submitButton.addEventListener('click', Sync._start);\n\tSync.stopButton.addEventListener('click', Sync.stopSync);\n});\n","/* global wpAjax */\n\nconst TermsOrder = {\n\ttemplate: '',\n\ttags: jQuery('#cld-tax-items'),\n\ttagDelimiter:\n\t\t(window.tagsSuggestL10n && window.tagsSuggestL10n.tagDelimiter) || ',',\n\tstartId: null,\n\t_init() {\n\t\t// Check that we found the tax-items.\n\t\tif (!this.tags.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst self = this;\n\t\tthis._sortable();\n\n\t\t// Setup ajax overrides.\n\t\tif (typeof wpAjax !== 'undefined') {\n\t\t\twpAjax.procesParseAjaxResponse = wpAjax.parseAjaxResponse;\n\t\t\twpAjax.parseAjaxResponse = function (\n\t\t\t\tresponse,\n\t\t\t\tsettingsResponse,\n\t\t\t\telement\n\t\t\t) {\n\t\t\t\tconst newResponse = wpAjax.procesParseAjaxResponse(\n\t\t\t\t\tresponse,\n\t\t\t\t\tsettingsResponse,\n\t\t\t\t\telement\n\t\t\t\t);\n\t\t\t\tif (!newResponse.errors && newResponse.responses[0]) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'[data-taxonomy=\"' +\n\t\t\t\t\t\t\t\tnewResponse.responses[0].what +\n\t\t\t\t\t\t\t\t'\"]'\n\t\t\t\t\t\t).length\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst data = jQuery(newResponse.responses[0].data);\n\t\t\t\t\t\tconst text = data.find('label').last().text().trim();\n\t\t\t\t\t\tself._pushItem(newResponse.responses[0].what, text);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newResponse;\n\t\t\t};\n\t\t}\n\n\t\tif (typeof window.tagBox !== 'undefined') {\n\t\t\twindow.tagBox.processflushTags = window.tagBox.flushTags;\n\t\t\twindow.tagBox.flushTags = function (el, a, f) {\n\t\t\t\tif (typeof f === 'undefined') {\n\t\t\t\t\tconst taxonomy = el.prop('id');\n\t\t\t\t\tconst newTag = jQuery('input.newtag', el);\n\n\t\t\t\t\ta = a || false;\n\n\t\t\t\t\tconst text = a ? jQuery(a).text() : newTag.val();\n\t\t\t\t\tconst list = window.tagBox\n\t\t\t\t\t\t.clean(text)\n\t\t\t\t\t\t.split(self.tagDelimiter);\n\n\t\t\t\t\tfor (const i in list) {\n\t\t\t\t\t\tconst tag = taxonomy + ':' + list[i];\n\t\t\t\t\t\tif (!jQuery('[data-item=\"' + tag + '\"]').length) {\n\t\t\t\t\t\t\tself._pushItem(tag, list[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.processflushTags(el, a, f);\n\t\t\t};\n\n\t\t\twindow.tagBox.processTags = window.tagBox.parseTags;\n\n\t\t\twindow.tagBox.parseTags = function (el) {\n\t\t\t\tconst id = el.id;\n\t\t\t\tconst num = id.split('-check-num-')[1];\n\t\t\t\tconst taxonomy = id.split('-check-num-')[0];\n\t\t\t\tconst taxBox = jQuery(el).closest('.tagsdiv');\n\t\t\t\tconst tagsTextarea = taxBox.find('.the-tags');\n\t\t\t\tconst tagToRemove = window.tagBox\n\t\t\t\t\t.clean(tagsTextarea.val())\n\t\t\t\t\t.split(self.tagDelimiter)[num];\n\n\t\t\t\tnew wp.api.collections.Tags()\n\t\t\t\t\t.fetch({ data: { slug: tagToRemove } })\n\t\t\t\t\t.done((tag) => {\n\t\t\t\t\t\tconst tagFromDatabase = tag.length\n\t\t\t\t\t\t\t? jQuery(\n\t\t\t\t\t\t\t\t\t'[data-item=\"' +\n\t\t\t\t\t\t\t\t\t\ttaxonomy +\n\t\t\t\t\t\t\t\t\t\t':' +\n\t\t\t\t\t\t\t\t\t\ttag[0].id +\n\t\t\t\t\t\t\t\t\t\t'\"]'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: false;\n\n\t\t\t\t\t\tif (tagFromDatabase.length) {\n\t\t\t\t\t\t\ttagFromDatabase.remove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t\t`.cld-tax-order-list-item:contains(${tagToRemove})`\n\t\t\t\t\t\t\t).remove();\n\t\t\t\t\t\t\t--self.startId;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.processTags(el);\n\t\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tjQuery('body').on('change', '.selectit input', function () {\n\t\t\tconst clickedItem = jQuery(this);\n\t\t\tconst id = clickedItem.val();\n\t\t\tconst checked = clickedItem.is(':checked');\n\t\t\tconst text = clickedItem.parent().text().trim();\n\n\t\t\tif (true === checked) {\n\t\t\t\tif (!self.tags.find(`[data-item=\"category:${id}\"]`).length) {\n\t\t\t\t\tself._pushItem(`category:${id}`, text);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.tags.find(`[data-item=\"category:${id}\"]`).remove();\n\t\t\t}\n\t\t});\n\t},\n\t_createItem(id, name) {\n\t\tconst li = jQuery('<li/>');\n\t\tconst icon = jQuery('<span/>');\n\t\tconst input = jQuery('<input/>');\n\n\t\tli.addClass('cld-tax-order-list-item').attr('data-item', id);\n\t\tinput\n\t\t\t.addClass('cld-tax-order-list-item-input')\n\t\t\t.attr('type', 'hidden')\n\t\t\t.attr('name', 'cld_tax_order[]')\n\t\t\t.val(id);\n\t\ticon.addClass(\n\t\t\t'dashicons dashicons-menu cld-tax-order-list-item-handle'\n\t\t);\n\n\t\tli.append(icon).append(name).append(input); // phpcs:ignore\n\t\t// WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n\n\t\treturn li;\n\t},\n\t_pushItem(id, text) {\n\t\tconst item = this._createItem(id, text);\n\t\tthis.tags.append(item); // phpcs:ignore\n\t\t// WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n\t},\n\t_sortable() {\n\t\tconst items = jQuery('.cld-tax-order-list');\n\n\t\titems.sortable({\n\t\t\tconnectWith: '.cld-tax-order',\n\t\t\taxis: 'y',\n\t\t\thandle: '.cld-tax-order-list-item-handle',\n\t\t\tplaceholder: 'cld-tax-order-list-item-placeholder',\n\t\t\tforcePlaceholderSize: true,\n\t\t\thelper: 'clone',\n\t\t});\n\t},\n};\n\nif (typeof window.CLDN !== 'undefined') {\n\tTermsOrder._init();\n\t// Init checked categories.\n\tjQuery('[data-wp-lists] .selectit input[checked]').each((ord, check) => {\n\t\tjQuery(check).trigger('change');\n\t});\n}\n\n// Gutenberg.\nif (wp.data && wp.data.select('core/editor')) {\n\tconst orderSet = {};\n\twp.data.subscribe(function () {\n\t\tconst taxonomies = wp.data.select('core').getTaxonomies();\n\n\t\tif (taxonomies) {\n\t\t\tfor (const t in taxonomies) {\n\t\t\t\tconst set = wp.data\n\t\t\t\t\t.select('core/editor')\n\t\t\t\t\t.getEditedPostAttribute(taxonomies[t].rest_base);\n\t\t\t\torderSet[taxonomies[t].slug] = set;\n\t\t\t}\n\t\t}\n\t});\n\n\tconst el = wp.element.createElement;\n\tconst CustomizeTaxonomySelector = (OriginalComponent) => {\n\t\tclass CustomHandler extends OriginalComponent {\n\t\t\tconstructor(props) {\n\t\t\t\tsuper(props);\n\n\t\t\t\tthis.currentItems = jQuery('.cld-tax-order-list-item')\n\t\t\t\t\t.map((_, taxonomy) => jQuery(taxonomy).data('item'))\n\t\t\t\t\t.get();\n\t\t\t}\n\n\t\t\tmakeItem(item) {\n\t\t\t\t// Prevent duplicates in the tax order box\n\t\t\t\tif (this.currentItems.includes(this.getId(item))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst row = this.makeElement(item);\n\t\t\t\tconst box = jQuery('#cld-tax-items');\n\t\t\t\tbox.append(row); // phpcs:ignore\n\t\t\t\t// WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n\t\t\t}\n\n\t\t\tremoveItem(item) {\n\t\t\t\tconst elementWithId = jQuery(\n\t\t\t\t\t`[data-item=\"${this.getId(item)}\"]`\n\t\t\t\t);\n\n\t\t\t\tif (elementWithId.length) {\n\t\t\t\t\telementWithId.remove();\n\n\t\t\t\t\tthis.currentItems = this.currentItems.filter(\n\t\t\t\t\t\t(taxIdentifier) => {\n\t\t\t\t\t\t\treturn taxIdentifier !== this.getId(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfindOrCreateTerm(termName) {\n\t\t\t\ttermName = super.findOrCreateTerm(termName);\n\t\t\t\ttermName.then((item) => this.makeItem(item));\n\n\t\t\t\treturn termName;\n\t\t\t}\n\n\t\t\tonChange(event) {\n\t\t\t\tsuper.onChange(event);\n\t\t\t\tconst item = this.pickItem(event);\n\n\t\t\t\tif (item) {\n\t\t\t\t\tif (orderSet[this.props.slug].includes(item.id)) {\n\t\t\t\t\t\tthis.makeItem(item);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.removeItem(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpickItem(event) {\n\t\t\t\tif (typeof event === 'object') {\n\t\t\t\t\tif (event.target) {\n\t\t\t\t\t\tfor (const p in this.state.availableTerms) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tthis.state.availableTerms[p].id ===\n\t\t\t\t\t\t\t\tparseInt(event.target.value)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn this.state.availableTerms[p];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Tags that are already registered need to be selected\n\t\t\t\t\t\t// separately as its expected that they return back\n\t\t\t\t\t\t// with an \"id\" property.\n\t\t\t\t\t} else if (Array.isArray(event)) {\n\t\t\t\t\t\t// Figure out the diff between the current state and\n\t\t\t\t\t\t// the event and determine which tag is getting removed\n\t\t\t\t\t\tlet enteredTag = this.state.selectedTerms.filter(\n\t\t\t\t\t\t\t(flatItem) => !event.includes(flatItem)\n\t\t\t\t\t\t)[0];\n\n\t\t\t\t\t\tif (typeof enteredTag === 'undefined') {\n\t\t\t\t\t\t\t// If the above returns undefined, then we presume\n\t\t\t\t\t\t\t// the user is adding, so reverse the logic to\n\t\t\t\t\t\t\t// figure out the new item\n\t\t\t\t\t\t\tenteredTag = event.filter(\n\t\t\t\t\t\t\t\t(flatItem) =>\n\t\t\t\t\t\t\t\t\t!this.state.selectedTerms.includes(flatItem)\n\t\t\t\t\t\t\t)[0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.state.availableTerms.find(\n\t\t\t\t\t\t\t(item) => item.name === enteredTag\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof event === 'number') {\n\t\t\t\t\tfor (const p in this.state.availableTerms) {\n\t\t\t\t\t\tif (this.state.availableTerms[p].id === event) {\n\t\t\t\t\t\t\treturn this.state.availableTerms[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet text;\n\n\t\t\t\t\t// add or remove.\n\t\t\t\t\tif (event.length > this.state.selectedTerms.length) {\n\t\t\t\t\t\t// Added.\n\t\t\t\t\t\tfor (const o in event) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tthis.state.selectedTerms.indexOf(event[o]) ===\n\t\t\t\t\t\t\t\t-1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\ttext = event[o];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// removed.\n\t\t\t\t\t\tfor (const o in this.state.selectedTerms) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tevent.indexOf(this.state.selectedTerms[o]) ===\n\t\t\t\t\t\t\t\t-1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\ttext = this.state.selectedTerms[o];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const p in this.state.availableTerms) {\n\t\t\t\t\t\tif (this.state.availableTerms[p].name === text) {\n\t\t\t\t\t\t\treturn this.state.availableTerms[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgetId(item) {\n\t\t\t\treturn `${this.props.slug}:${item.id}`;\n\t\t\t}\n\n\t\t\tmakeElement(item) {\n\t\t\t\tconst li = jQuery('<li/>');\n\t\t\t\tconst icon = jQuery('<span/>');\n\t\t\t\tconst input = jQuery('<input/>');\n\n\t\t\t\tli.addClass('cld-tax-order-list-item').attr(\n\t\t\t\t\t'data-item',\n\t\t\t\t\tthis.getId(item)\n\t\t\t\t);\n\n\t\t\t\tinput\n\t\t\t\t\t.addClass('cld-tax-order-list-item-input')\n\t\t\t\t\t.attr('type', 'hidden')\n\t\t\t\t\t.attr('name', 'cld_tax_order[]')\n\t\t\t\t\t.val(this.getId(item));\n\n\t\t\t\ticon.addClass(\n\t\t\t\t\t'dashicons dashicons-menu cld-tax-order-list-item-handle'\n\t\t\t\t);\n\n\t\t\t\tli.append(icon).append(item.name).append(input); // phpcs:ignore\n\t\t\t\t// WordPressVIPMinimum.JS.HTMLExecutingFunctions.append\n\n\t\t\t\treturn li;\n\t\t\t}\n\t\t}\n\n\t\treturn (props) => el(CustomHandler, props);\n\t};\n\n\twp.hooks.addFilter(\n\t\t'editor.PostTaxonomyType',\n\t\t'cld',\n\t\tCustomizeTaxonomySelector\n\t);\n}\n\nexport default TermsOrder;\n","if (wp.media && window.CLDN) {\n\twp.media.events.on('editor:image-edit', function (props) {\n\t\tprops.metadata.cldoverwrite = null;\n\t\tconst classes = props.image.className.split(' ');\n\t\tif (classes.indexOf('cld-overwrite') >= 0) {\n\t\t\tprops.metadata.cldoverwrite = 'true';\n\t\t}\n\t});\n\twp.media.events.on('editor:image-update', function (props) {\n\t\tconst classes = props.image.className.split(' ');\n\t\tif (\n\t\t\tprops.metadata.cldoverwrite &&\n\t\t\tclasses.indexOf('cld-overwrite') === -1\n\t\t) {\n\t\t\tclasses.push('cld-overwrite');\n\t\t} else if (\n\t\t\t!props.metadata.cldoverwrite &&\n\t\t\tclasses.indexOf('cld-overwrite') >= 0\n\t\t) {\n\t\t\tdelete classes[classes.indexOf('cld-overwrite')];\n\t\t}\n\n\t\tprops.image.className = classes.join(' ');\n\t});\n\n\t// Intercept props and inject cld-overwrite class.\n\tlet currentOverwrite = null;\n\tconst imageProps = wp.media.string.props;\n\twp.media.string.props = function (props, asset) {\n\t\tif (props.cldoverwrite) {\n\t\t\tprops.classes = ['cld-overwrite'];\n\t\t\tcurrentOverwrite = true;\n\t\t}\n\t\tconst newProps = imageProps(props, asset);\n\t\treturn newProps;\n\t};\n\t// Intercept ajax post, and send the cld-overwrite flag, and transformations.\n\twp.media.post = function (action, data) {\n\t\tif ('send-attachment-to-editor' === action) {\n\t\t\tconst state = wp.media.editor.get().state();\n\t\t\tconst attach = state.get('selection').get(data.attachment);\n\t\t\tif (attach.attributes.transformations) {\n\t\t\t\tdata.attachment.transformations =\n\t\t\t\t\tattach.attributes.transformations;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tdata.html.indexOf('cld-overwrite') > -1 ||\n\t\t\t\ttrue === currentOverwrite\n\t\t\t) {\n\t\t\t\tdata.attachment.cldoverwrite = true;\n\t\t\t\tcurrentOverwrite = null;\n\t\t\t}\n\t\t}\n\t\t// Return the original.\n\t\treturn wp.ajax.post(action, data);\n\t};\n\n\tconst MediaFrame = wp.media.view.MediaFrame.Select;\n\tconst MediaFramePost = wp.media.view.MediaFrame.Post;\n\tconst MediaFrameImageDetails = wp.media.view.MediaFrame.ImageDetails;\n\tconst MediaFrameVideoDetails = wp.media.view.MediaFrame.VideoDetails;\n\tconst Cloudinary = wp.media.View.extend({\n\t\ttagName: 'div',\n\t\tclassName: 'cloudinary-widget',\n\t\ttemplate: wp.template('cloudinary-dam'),\n\t\tactive: false,\n\t\ttoolbar: null,\n\t\tframe: null,\n\t\tready() {\n\t\t\tconst controller = this.controller;\n\t\t\tconst selection = this.model.get('selection');\n\t\t\tconst library = this.model.get('library');\n\t\t\tconst attachment = wp.media.model.Attachment;\n\t\t\t// Set widget to same as model.\n\t\t\tCLDN.mloptions.multiple = controller.options.multiple;\n\t\t\tif (this.cid !== this.active) {\n\t\t\t\tCLDN.mloptions.inline_container =\n\t\t\t\t\t'#cloudinary-dam-' + controller.cid;\n\t\t\t\tif (1 === selection.length) {\n\t\t\t\t\tconst att = attachment.get(selection.models[0].id);\n\t\t\t\t\tif (typeof att.attributes.public_id !== 'undefined') {\n\t\t\t\t\t\tCLDN.mloptions.asset = {\n\t\t\t\t\t\t\tresource_id: att.attributes.public_id,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tCLDN.mloptions.asset = null;\n\t\t\t\t}\n\t\t\t\twindow.ml = cloudinary.openMediaLibrary(\n\t\t\t\t\tCLDN.mloptions,\n\t\t\t\t\t{\n\t\t\t\t\t\tinsertHandler(data) {\n\t\t\t\t\t\t\tfor (let i = 0; i < data.assets.length; i++) {\n\t\t\t\t\t\t\t\tconst temp = data.assets[i];\n\t\t\t\t\t\t\t\twp.media\n\t\t\t\t\t\t\t\t\t.post('cloudinary-down-sync', {\n\t\t\t\t\t\t\t\t\t\tnonce: CLDN.nonce,\n\t\t\t\t\t\t\t\t\t\tasset: temp,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (asset) {\n\t\t\t\t\t\t\t\t\t\tconst update_asset = function (\n\t\t\t\t\t\t\t\t\t\t\tnew_asset,\n\t\t\t\t\t\t\t\t\t\t\tattach\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tnew_asset.uploading = false;\n\t\t\t\t\t\t\t\t\t\t\tattach.set(new_asset);\n\t\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.remove(attach);\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.length === 0\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.reset();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\ttypeof asset.resync !== 'undefined'\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tasset.resync.forEach(function (\n\t\t\t\t\t\t\t\t\t\t\t\tnew_update_asset\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst update_attach = attachment.get(\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew_update_asset.id\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\tupdate_attach.set(\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew_update_asset\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\ttypeof asset.fetch !== 'undefined'\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tconst attach = attachment.get(\n\t\t\t\t\t\t\t\t\t\t\t\tasset.attachment_id\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tattach.set(asset);\n\t\t\t\t\t\t\t\t\t\t\tlibrary.add(attach);\n\t\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.add(attach);\n\t\t\t\t\t\t\t\t\t\t\twp.ajax\n\t\t\t\t\t\t\t\t\t\t\t\t.send({\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: asset.fetch,\n\t\t\t\t\t\t\t\t\t\t\t\t\tbeforeSend(request) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequest.setRequestHeader(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'X-WP-Nonce',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCLDN.nonce\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc: asset.url,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilename:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tasset.filename,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattachment_id:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tasset.attachment_id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransformations:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tasset.transformations,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t.done(function (new_asset) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst att = attachment.get(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew_asset.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdate_asset(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew_asset,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tatt\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t.fail(function (err) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdate_asset(asset, attach);\n\t\t\t\t\t\t\t\t\t\t\t\t\tlibrary.remove(attach);\n\t\t\t\t\t\t\t\t\t\t\t\t\tselection.remove(attach);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof err === 'string'\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talert(err);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terr.status === 500\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talert('HTTP error.');\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconst attach = attachment.get(\n\t\t\t\t\t\t\t\t\t\t\t\tasset.id\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tattach.set(asset);\n\t\t\t\t\t\t\t\t\t\t\tselection.add(attach);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (wp.Uploader.queue.length === 0) {\n\t\t\t\t\t\t\t\t\t\t\twp.Uploader.queue.reset();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcontroller.content.mode('browse');\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tdocument.querySelectorAll('.dam-cloudinary')[0]\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.active = this.cid;\n\t\t\treturn this;\n\t\t},\n\t});\n\tconst extend_type = function (type) {\n\t\tconst obj = {\n\t\t\t/**\n\t\t\t * Bind region mode event callbacks.\n\t\t\t *\n\t\t\t * @see media.controller.Region.render\n\t\t\t */\n\t\t\tbindHandlers() {\n\t\t\t\ttype.prototype.bindHandlers.apply(this, arguments);\n\t\t\t\tthis.on(\n\t\t\t\t\t'content:render:cloudinary',\n\t\t\t\t\tthis.cloudinaryContent,\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Render callback for the router region in the `browse` mode.\n\t\t\t *\n\t\t\t * @param {wp.media.view.Router} routerView\n\t\t\t */\n\t\t\tbrowseRouter(routerView) {\n\t\t\t\ttype.prototype.browseRouter.apply(this, arguments);\n\t\t\t\trouterView.set({\n\t\t\t\t\tcloudinary: {\n\t\t\t\t\t\ttext: 'Cloudinary',\n\t\t\t\t\t\tpriority: 60,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Render callback for the content region in the `upload` mode.\n\t\t\t */\n\t\t\tcloudinaryContent() {\n\t\t\t\tconst state = this.state();\n\t\t\t\tconst view = new Cloudinary({\n\t\t\t\t\tcontroller: this,\n\t\t\t\t\tmodel: state,\n\t\t\t\t}).render();\n\t\t\t\tthis.content.set(view);\n\t\t\t},\n\t\t};\n\n\t\treturn obj;\n\t};\n\t// Extending the current media library frames to add a new tab to each area.\n\twp.media.view.MediaFrame.Select = MediaFrame.extend(\n\t\textend_type(MediaFrame)\n\t);\n\twp.media.view.MediaFrame.Post = MediaFramePost.extend(\n\t\textend_type(MediaFramePost)\n\t);\n\twp.media.view.MediaFrame.ImageDetails = MediaFrameImageDetails.extend(\n\t\textend_type(MediaFrameImageDetails)\n\t);\n\twp.media.view.MediaFrame.VideoDetails = MediaFrameVideoDetails.extend(\n\t\textend_type(MediaFrameVideoDetails)\n\t);\n}\n","/**\n * External dependencies\n */\nimport 'loading-attribute-polyfill';\n\n/**\n * Internal dependencies\n */\nimport Settings from './components/settings-page';\nimport Sync from './components/sync';\nimport Widget from './components/widget';\nimport GlobalTransformations from './components/global-transformations';\nimport TermsOrder from './components/terms-order';\nimport MediaLibrary from './components/media-library';\nimport Notices from './components/notices';\n\nimport '../../css/src/main.scss';\n\n// jQuery, because reasons.\nwindow.$ = window.jQuery;\n\n// Global Constants\nexport const cloudinary = {\n\tSettings,\n\tSync,\n\tWidget,\n\tGlobalTransformations,\n\tTermsOrder,\n\tMediaLibrary,\n\tNotices,\n};\n","/*\n * Loading attribute polyfill - https://github.com/mfranzke/loading-attribute-polyfill\n * @license Copyright(c) 2019 by Maximilian Franzke\n * Credits for the initial kickstarter / script to @Sora2455, and supported by @cbirdsong, @eklingen, @DaPo, @nextgenthemes, @diogoterremoto, @dracos, @Flimm, @TomS- and @vinyfc93 - many thanks for that !\n */\n!function(e,t){\"use strict\";var r,a,o={rootMargin:\"256px 0px\",threshold:.01,lazyImage:'img[loading=\"lazy\"]',lazyIframe:'iframe[loading=\"lazy\"]'},n={loading:\"loading\"in HTMLImageElement.prototype&&\"loading\"in HTMLIFrameElement.prototype,scrolling:\"onscroll\"in window};function i(e){var t,r,a=[];\"picture\"===e.parentNode.tagName.toLowerCase()&&(t=e.parentNode,(r=t.querySelector(\"source[data-lazy-remove]\"))&&t.removeChild(r),a=Array.prototype.slice.call(e.parentNode.querySelectorAll(\"source\"))),a.push(e),a.forEach((function(e){e.hasAttribute(\"data-lazy-srcset\")&&(e.setAttribute(\"srcset\",e.getAttribute(\"data-lazy-srcset\")),e.removeAttribute(\"data-lazy-srcset\"))})),e.setAttribute(\"src\",e.getAttribute(\"data-lazy-src\")),e.removeAttribute(\"data-lazy-src\")}function c(e){var t=document.createElement(\"div\");for(t.innerHTML=function(e){var t=e.textContent||e.innerHTML,a=\"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 \"+((t.match(/width=['\"](\\d+)['\"]/)||!1)[1]||1)+\" \"+((t.match(/height=['\"](\\d+)['\"]/)||!1)[1]||1)+\"%27%3E%3C/svg%3E\";return!n.loading&&n.scrolling&&(void 0===r?t=t.replace(/(?:\\r\\n|\\r|\\n|\\t| )src=/g,' lazyload=\"1\" src='):(\"picture\"===e.parentNode.tagName.toLowerCase()&&(t='<source srcset=\"'+a+'\" data-lazy-remove=\"true\"></source>'+t),t=t.replace(/(?:\\r\\n|\\r|\\n|\\t| )srcset=/g,\" data-lazy-srcset=\").replace(/(?:\\r\\n|\\r|\\n|\\t| )src=/g,' src=\"'+a+'\" data-lazy-src='))),t}(e);t.firstChild;)n.loading||!n.scrolling||void 0===r||!t.firstChild.tagName||\"img\"!==t.firstChild.tagName.toLowerCase()&&\"iframe\"!==t.firstChild.tagName.toLowerCase()||r.observe(t.firstChild),e.parentNode.insertBefore(t.firstChild,e);e.parentNode.removeChild(e)}function d(){document.querySelectorAll(\"noscript.\"+e).forEach(c),void 0!==window.matchMedia&&window.matchMedia(\"print\").addListener((function(e){e.matches&&document.querySelectorAll(o.lazyImage+\"[data-lazy-src],\"+o.lazyIframe+\"[data-lazy-src]\").forEach((function(e){i(e)}))}))}\"undefined\"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),\"IntersectionObserver\"in window&&(r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(0!==e.intersectionRatio){var r=e.target;t.unobserve(r),i(r)}}))}),o)),a=\"requestAnimationFrame\"in window?window.requestAnimationFrame:function(e){e()},/comp|inter/.test(document.readyState)?a(d):\"addEventListener\"in document?document.addEventListener(\"DOMContentLoaded\",(function(){a(d)})):document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&d()}))}(\"loading-lazy\");\n"],"sourceRoot":""}