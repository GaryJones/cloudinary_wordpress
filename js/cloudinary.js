!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return s(l(e),arguments)}function a(e,t){return o.apply(null,[e].concat(t||[]))}function s(e,t){var n,r,a,s,c,l,d,u,p,f=1,h=e.length,m="";for(r=0;r<h;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((s=e[r]).keys)for(n=t[f],a=0;a<s.keys.length;a++){if(null==n)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?t[s.param_no]:t[f++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(o("[sprintf] expecting number but found %T",n));switch(i.number.test(s.type)&&(u=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?m+=n:(!i.number.test(s.type)||u&&!s.sign?p="":(p=u?"+":"-",n=n.toString().replace(i.sign,"")),l=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",d=s.width-(p+n).length,c=s.width&&d>0?l.repeat(d):"",m+=s.align?p+n+c:"0"===l?p+c+n:c+p+n)}return m}var c=Object.create(null);function l(e){if(c[e])return c[e];for(var t,n=e,r=[],o=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var a=[],s=t[2],l=[];if(null===(l=i.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(l[1]);""!==(s=s.substring(l[0].length));)if(null!==(l=i.key_access.exec(s)))a.push(l[1]);else{if(null===(l=i.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(l[1])}t[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return c[e]=r}t.sprintf=o,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(r=function(){return{sprintf:o,vsprintf:a}}.call(t,n,t,e))||(e.exports=r))}()},function(e,t,n){e.exports=function(e,t){var n,r,i=0;function o(){var o,a,s=n,c=arguments.length;e:for(;s;){if(s.args.length===arguments.length){for(a=0;a<c;a++)if(s.args[a]!==arguments[a]){s=s.next;continue e}return s!==n&&(s===r&&(r=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=n,s.prev=null,n.prev=s,n=s),s.val}s=s.next}for(o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return s={args:o,val:e.apply(null,o)},n?(n.prev=s,s.next=n):r=s,i===t.maxSize?(r=r.prev).next=null:i++,n=s,s.val}return t=t||{},o.clear=function(){n=null,r=null,i=0},o}},function(e,t){!function(){const e=function(){const e=jQuery("#field-video_player").val(),t=jQuery("#field-video_controls").prop("checked"),n=jQuery('#field-video_autoplay_mode option[value="off"]');"cld"!==e||t?n.prop("disabled",!1):(n.prop("disabled",!0),n.prop("selected")&&n.next().prop("selected",!0))};e(),jQuery(document).on("change","#field-video_player",e),jQuery(document).on("change","#field-video_controls",e),jQuery(document).ready((function(e){e.isFunction(e.fn.wpColorPicker)&&e(".regular-color").wpColorPicker(),e(document).on("tabs.init",(function(){const t=e(".settings-tab-trigger"),n=e(".settings-tab-section");e(this).on("click",".settings-tab-trigger",(function(r){const i=e(this),o=e(i.attr("href"));r.preventDefault(),t.removeClass("active"),n.removeClass("active"),i.addClass("active"),o.addClass("active"),e(document).trigger("settings.tabbed",i)})),e(".cld-field").not('[data-condition="false"]').each((function(){const t=e(this),n=t.data("condition");for(const r in n){let i=e("#field-"+r);const o=n[r],a=t.closest("tr");i.length||(i=e(`[id^=field-${r}-]`));let s=!1;i.on("change init",(function(e,t=!1){if(s&&t)return;let n=this.value===o||this.checked;if(Array.isArray(o)&&2===o.length)switch(o[1]){case"neq":n=this.value!==o[0];break;case"gt":n=this.value>o[0];break;case"lt":n=this.value<o[0]}n?a.show():a.hide(),s=!0})),i.trigger("init",!0)}})),e("#field-cloudinary_url").on("input change",(function(){const t=e(this),n=t.val();new RegExp(/^(?:CLOUDINARY_URL=)?(cloudinary:\/\/){1}(\d)*[:]{1}[^:@]*[@]{1}[^@]*$/g).test(n)?(t.addClass("settings-valid-field"),t.removeClass("settings-invalid-field")):(t.removeClass("settings-valid-field"),t.addClass("settings-invalid-field"))})).trigger("change"),e('[name="cloudinary_sync_media[auto_sync]"]').change((function(){"on"===e(this).val()&&e("#auto-sync-alert-btn").click()}))})),e(".render-trigger[data-event]").each((function(){const t=e(this),n=t.data("event");t.trigger(n,this)}))}))}(window,jQuery)},function(e,t){if(wp.media&&window.CLDN){wp.media.events.on("editor:image-edit",(function(e){e.metadata.cldoverwrite=null;e.image.className.split(" ").indexOf("cld-overwrite")>=0&&(e.metadata.cldoverwrite="true")})),wp.media.events.on("editor:image-update",(function(e){const t=e.image.className.split(" ");e.metadata.cldoverwrite&&-1===t.indexOf("cld-overwrite")?t.push("cld-overwrite"):!e.metadata.cldoverwrite&&t.indexOf("cld-overwrite")>=0&&delete t[t.indexOf("cld-overwrite")],e.image.className=t.join(" ")}));let e=null;const t=wp.media.string.props;wp.media.string.props=function(n,r){n.cldoverwrite&&(n.classes=["cld-overwrite"],e=!0);return t(n,r)},wp.media.post=function(t,n){if("send-attachment-to-editor"===t){const t=wp.media.editor.get().state().get("selection").get(n.attachment);t.attributes.transformations&&(n.attachment.transformations=t.attributes.transformations),(n.html.indexOf("cld-overwrite")>-1||!0===e)&&(n.attachment.cldoverwrite=!0,e=null)}return wp.ajax.post(t,n)};const n=wp.media.view.MediaFrame.Select,r=wp.media.view.MediaFrame.Post,i=wp.media.view.MediaFrame.ImageDetails,o=wp.media.view.MediaFrame.VideoDetails,a=wp.media.View.extend({tagName:"div",className:"cloudinary-widget",template:wp.template("cloudinary-dam"),active:!1,toolbar:null,frame:null,ready(){const e=this.controller,t=this.model.get("selection"),n=this.model.get("library"),r=wp.media.model.Attachment;if(CLDN.mloptions.multiple=e.options.multiple,this.cid!==this.active){if(CLDN.mloptions.inline_container="#cloudinary-dam-"+e.cid,1===t.length){const e=r.get(t.models[0].id);void 0!==e.attributes.public_id&&(CLDN.mloptions.asset={resource_id:e.attributes.public_id})}else CLDN.mloptions.asset=null;try{CLDN.mloptions.folder||(CLDN.mloptions.folder={path:""});const e=t.props.attributes.type;CLDN.mloptions.folder.resource_type=Array.isArray(e)?e[0]:e}catch(e){}window.ml=cloudinary.openMediaLibrary(CLDN.mloptions,{insertHandler(i){for(let o=0;o<i.assets.length;o++){const a=i.assets[o];wp.media.post("cloudinary-down-sync",{nonce:CLDN.nonce,asset:a}).done((function(i){const o=function(e,t){e.uploading=!1,t.set(e),wp.Uploader.queue.remove(t),0===wp.Uploader.queue.length&&wp.Uploader.queue.reset()};if(void 0!==i.resync&&i.resync.forEach((function(e){r.get(e.id).set(e)})),void 0!==i.fetch){const e=r.get(i.attachment_id);e.set(i),n.add(e),wp.Uploader.queue.add(e),wp.ajax.send({url:i.fetch,beforeSend(e){e.setRequestHeader("X-WP-Nonce",CLDN.nonce)},data:{src:i.url,filename:i.filename,attachment_id:i.attachment_id,transformations:i.transformations}}).done((function(e){const t=r.get(e.id);o(e,t)})).fail((function(r){o(i,e),n.remove(e),t.remove(e),"string"==typeof r?alert(r):500===r.status&&alert("HTTP error.")}))}else{const e=r.get(i.id);e.set(i),t.add(e)}0===wp.Uploader.queue.length&&wp.Uploader.queue.reset(),e.content.mode("browse")}))}}},document.querySelectorAll(".dam-cloudinary")[0])}return this.active=this.cid,this}}),s=function(e){return{bindHandlers(){e.prototype.bindHandlers.apply(this,arguments),this.on("content:render:cloudinary",this.cloudinaryContent,this)},browseRouter(t){e.prototype.browseRouter.apply(this,arguments),t.set({cloudinary:{text:"Cloudinary",priority:60}})},cloudinaryContent(){this.$el.addClass("hide-toolbar");const e=this.state(),t=new a({controller:this,model:e}).render();this.content.set(t)}}};wp.media.view.MediaFrame.Select=n.extend(s(n)),wp.media.view.MediaFrame.Post=r.extend(s(r)),wp.media.view.MediaFrame.ImageDetails=i.extend(s(i)),wp.media.view.MediaFrame.VideoDetails=o.extend(s(o))}},function(e,t,n){var r,i,o,a;a=function(){var e="BKMGTPEZY".split("");function t(e,t){return e&&e.toLowerCase()===t.toLowerCase()}return function(n,r){return n="number"==typeof n?n:0,(r=r||{}).fixed="number"==typeof r.fixed?r.fixed:2,r.spacer="string"==typeof r.spacer?r.spacer:" ",r.calculate=function(e){var i=t(e,"si")?["k","B"]:["K","iB"],o=t(e,"si")?1e3:1024,a=Math.log(n)/Math.log(o)|0,s=n/Math.pow(o,a),c=s.toFixed(r.fixed);return a-1<3&&!t(e,"si")&&t(e,"jedec")&&(i[1]="B"),{suffix:a?(i[0]+"MGTPEZY")[a-1]+i[1]:1==(0|c)?"Byte":"Bytes",magnitude:a,result:s,fixed:c,bits:{result:s/8,fixed:(s/8).toFixed(r.fixed)}}},r.to=function(r,i){var o=t(i,"si")?1e3:1024,a=e.indexOf("string"==typeof r?r[0].toUpperCase():"B"),s=n;if(-1===a||0===a)return s.toFixed(2);for(;a>0;a--)s/=o;return s.toFixed(2)},r.human=function(e){var t=r.calculate(e);return t.fixed+r.spacer+t.suffix},r}},e.exports?e.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},,,,function(e,t){!function(e,t){"use strict";var n,r,i={rootMargin:"256px 0px",threshold:.01,lazyImage:'img[loading="lazy"]',lazyIframe:'iframe[loading="lazy"]'},o="loading"in HTMLImageElement.prototype&&"loading"in HTMLIFrameElement.prototype,a="onscroll"in window;function s(e){var t,n,r=[];"picture"===e.parentNode.tagName.toLowerCase()&&((n=(t=e.parentNode).querySelector("source[data-lazy-remove]"))&&t.removeChild(n),r=Array.prototype.slice.call(e.parentNode.querySelectorAll("source"))),r.push(e),r.forEach((function(e){e.hasAttribute("data-lazy-srcset")&&(e.setAttribute("srcset",e.getAttribute("data-lazy-srcset")),e.removeAttribute("data-lazy-srcset"))})),e.setAttribute("src",e.getAttribute("data-lazy-src")),e.removeAttribute("data-lazy-src")}function c(e){var t=document.createElement("div");for(t.innerHTML=function(e){var t=e.textContent||e.innerHTML,r="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 "+((t.match(/width=['"](\d+)['"]/)||!1)[1]||1)+" "+((t.match(/height=['"](\d+)['"]/)||!1)[1]||1)+"%27%3E%3C/svg%3E";return!o&&a&&(void 0===n?t=t.replace(/(?:\r\n|\r|\n|\t| )src=/g,' lazyload="1" src='):("picture"===e.parentNode.tagName.toLowerCase()&&(t='<source srcset="'+r+'" data-lazy-remove="true"></source>'+t),t=t.replace(/(?:\r\n|\r|\n|\t| )srcset=/g," data-lazy-srcset=").replace(/(?:\r\n|\r|\n|\t| )src=/g,' src="'+r+'" data-lazy-src='))),t}(e);t.firstChild;)o||!a||void 0===n||!t.firstChild.tagName||"img"!==t.firstChild.tagName.toLowerCase()&&"iframe"!==t.firstChild.tagName.toLowerCase()||n.observe(t.firstChild),e.parentNode.insertBefore(t.firstChild,e);e.parentNode.removeChild(e)}function l(){document.querySelectorAll("noscript.loading-lazy").forEach(c),void 0!==window.matchMedia&&window.matchMedia("print").addListener((function(e){e.matches&&document.querySelectorAll(i.lazyImage+"[data-lazy-src],"+i.lazyIframe+"[data-lazy-src]").forEach((function(e){s(e)}))}))}"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"IntersectionObserver"in window&&(n=new IntersectionObserver((function(e,t){e.forEach((function(e){if(0!==e.intersectionRatio){var n=e.target;t.unobserve(n),s(n)}}))}),i)),r="requestAnimationFrame"in window?window.requestAnimationFrame:function(e){e()},/comp|inter/.test(document.readyState)?r(l):"addEventListener"in document?document.addEventListener("DOMContentLoaded",(function(){r(l)})):document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&l()}))}()},function(e,t){const n=document.querySelector(".cloudinary-collapsible__toggle");n&&n.addEventListener("click",(function(){const e=document.querySelector(".cloudinary-collapsible__content"),t="none"===window.getComputedStyle(e,null).getPropertyValue("display"),n=document.querySelector(".cloudinary-collapsible__toggle button i");e.style.display=t?"block":"none";const r="dashicons-arrow-down-alt2",i="dashicons-arrow-up-alt2";n.classList.contains(r)?(n.classList.remove(r),n.classList.add(i)):(n.classList.remove(i),n.classList.add(r))}))},,,function(e,t,n){"use strict";n.r(t),n.d(t,"cloudinary",(function(){return Jn}));n(8),n(9);var r=n(2),i=n.n(r),o=n(3),a=n.n(o);const s={sample:{image:document.getElementById("transformation-sample-image"),video:document.getElementById("transformation-sample-video")},preview:{image:document.getElementById("sample-image"),video:document.getElementById("sample-video")},fields:document.getElementsByClassName("cld-ui-input"),button:{image:document.getElementById("refresh-image-preview"),video:document.getElementById("refresh-video-preview")},spinner:{image:document.getElementById("image-loader"),video:document.getElementById("video-loader")},optimization:{image:document.getElementById("image_optimization"),video:document.getElementById("video_optimization")},error_container:document.getElementById("cld-preview-error"),activeItem:null,elements:{image:[],video:[]},_placeItem(e){null!==e&&(e.style.display="block",e.style.visibility="visible",e.style.position="absolute",e.style.top=e.parentElement.clientHeight/2-e.clientHeight/2+"px",e.style.left=e.parentElement.clientWidth/2-e.clientWidth/2+"px")},_setLoading(e){this.button[e].style.display="block",this._placeItem(this.button[e]),this.preview[e].style.opacity="0.1"},_build(e){this.sample[e].innerHTML="",this.elements[e]=[];for(const t of this.fields){if(e!==t.dataset.context||t.dataset.disabled&&"true"===t.dataset.disabled)continue;let n=t.value.trim();if(n.length){if("select-one"===t.type){if("none"===n||!1===this.optimization[e].checked)continue;n=t.dataset.meta+"_"+n}else e=t.dataset.context,t.dataset.meta&&(n=t.dataset.meta+"_"+n),t.dataset.suffix&&(n+=t.dataset.suffix),n=this._transformations(n,e,!0);n&&this.elements[e].push(n)}}let t="";this.elements[e].length&&(t="/"+this._getGlobalTransformationElements(e).replace(/ /g,"%20")),this.sample[e].textContent=t,this.sample[e].parentElement.href="https://res.cloudinary.com/demo/"+this.sample[e].parentElement.innerText.trim().replace("../","").replace(/ /g,"%20")},_clearLoading(e){this.spinner[e].style.visibility="hidden",this.activeItem=null,this.preview[e].style.opacity=1},_refresh(e,t){e&&e.preventDefault();const n=this,r=CLD_GLOBAL_TRANSFORMATIONS[t].preview_url+this._getGlobalTransformationElements(t)+CLD_GLOBAL_TRANSFORMATIONS[t].file;if(this.button[t].style.display="none",this._placeItem(this.spinner[t]),"image"===t){const e=new Image;e.onload=function(){n.preview[t].src=this.src,n._clearLoading(t),n.error_container&&(n.error_container.style.display="none"),e.remove()},e.onerror=function(){const e=n.elements[t].includes("f_mp4");n.error_container&&(n.error_container.style.display="block",e?(n.error_container.innerHTML=CLD_GLOBAL_TRANSFORMATIONS[t].warning.replace("%s","f_mp4"),n.error_container.classList.replace("settings-alert-error","settings-alert-warning")):(n.error_container.innerHTML=CLD_GLOBAL_TRANSFORMATIONS[t].error,n.error_container.classList.replace("settings-alert-warning","settings-alert-error"))),n._clearLoading(t)},e.src=r}else{const e=n._transformations(n._getGlobalTransformationElements(t),t);samplePlayer.source({publicId:"dog",transformation:e}),n._clearLoading(t)}},_getGlobalTransformationElements(e){let t=[];return t.push(this.elements[e].slice(0,2).join(",")),t.push(this.elements[e].slice(2).join(",")),t=t.filter((e=>e)).join("/"),t},_transformations(e,t,n=!1){const r=CLD_GLOBAL_TRANSFORMATIONS[t].valid_types;let i=null;const o=e.split("/"),a=[];for(let e=0;e<o.length;e++){const i=o[e].split(",");let s;s=!0===n?[]:{};for(let e=0;e<i.length;e++){const o=i[e].trim().split("_");if(o.length<=1||void 0===r[o[0]])continue;const a=o.shift(),c=o.join("_");if(!0===n){if("f"===a||"q"===a)for(const e in this.elements[t])a+"_"===this.elements[t][e].substr(0,2)&&this.elements[t].splice(e,1);s.push(i[e])}else s[r[a]]=c.trim()}let c=0;c=!0===n?s.length:Object.keys(s).length,c&&(!0===n&&(s=s.join(",")),a.push(s))}return a.length&&(i=!0===n?a.join("/").trim():a),i},_reset(){for(const e of this.fields)e.value=null;for(const e in this.button)this._build(e),this._refresh(null,e)},_input(e){if(void 0!==e.dataset.context&&e.dataset.context.length){const t=e.dataset.context;this._setLoading(t),this._build(t)}},_init(){if("undefined"!=typeof CLD_GLOBAL_TRANSFORMATIONS){const e=this;document.addEventListener("DOMContentLoaded",(function(){for(const t in e.button)e.button[t]&&e.button[t].addEventListener("click",(function(n){e._refresh(n,t)}));for(const t of e.fields)t.addEventListener("input",(function(){e._input(this)})),t.addEventListener("change",(function(){e._input(this)}));for(const t in CLD_GLOBAL_TRANSFORMATIONS)e._build(t),e._refresh(null,t)})),jQuery(document).ajaxComplete((function(t,n,r){-1!==r.data.indexOf("action=add-tag")&&-1===n.responseText.indexOf("wp_error")&&e._reset()}))}}};s._init();var c=s;const l={template:"",tags:jQuery("#cld-tax-items"),tagDelimiter:window.tagsSuggestL10n&&window.tagsSuggestL10n.tagDelimiter||",",startId:null,_init(){if(!this.tags.length)return;const e=this;this._sortable(),"undefined"!=typeof wpAjax&&(wpAjax.procesParseAjaxResponse=wpAjax.parseAjaxResponse,wpAjax.parseAjaxResponse=function(t,n,r){const i=wpAjax.procesParseAjaxResponse(t,n,r);if(!i.errors&&i.responses[0]&&jQuery('[data-taxonomy="'+i.responses[0].what+'"]').length){const t=jQuery(i.responses[0].data).find("label").last().text().trim();e._pushItem(i.responses[0].what,t)}return i}),void 0!==window.tagBox&&(window.tagBox.processflushTags=window.tagBox.flushTags,window.tagBox.flushTags=function(t,n,r){if(void 0===r){const r=t.prop("id"),i=jQuery("input.newtag",t),o=(n=n||!1)?jQuery(n).text():i.val(),a=window.tagBox.clean(o).split(e.tagDelimiter);for(const t in a){const n=r+":"+a[t];jQuery('[data-item="'+n+'"]').length||e._pushItem(n,a[t])}}return this.processflushTags(t,n,r)},window.tagBox.processTags=window.tagBox.parseTags,window.tagBox.parseTags=function(t){const n=t.id,r=n.split("-check-num-")[1],i=n.split("-check-num-")[0],o=jQuery(t).closest(".tagsdiv").find(".the-tags"),a=window.tagBox.clean(o.val()).split(e.tagDelimiter)[r];(new wp.api.collections.Tags).fetch({data:{slug:a}}).done((n=>{const r=!!n.length&&jQuery('[data-item="'+i+":"+n[0].id+'"]');r.length?r.remove():(jQuery(`.cld-tax-order-list-item:contains(${a})`).remove(),--e.startId),this.processTags(t)}))}),jQuery("body").on("change",".selectit input",(function(){const t=jQuery(this),n=t.val(),r=t.is(":checked"),i=t.parent().text().trim();!0===r?e.tags.find(`[data-item="category:${n}"]`).length||e._pushItem(`category:${n}`,i):e.tags.find(`[data-item="category:${n}"]`).remove()}))},_createItem(e,t){const n=jQuery("<li/>"),r=jQuery("<span/>"),i=jQuery("<input/>");return n.addClass("cld-tax-order-list-item").attr("data-item",e),i.addClass("cld-tax-order-list-item-input").attr("type","hidden").attr("name","cld_tax_order[]").val(e),r.addClass("dashicons dashicons-menu cld-tax-order-list-item-handle"),n.append(r).append(t).append(i),n},_pushItem(e,t){const n=this._createItem(e,t);this.tags.append(n)},_sortable(){jQuery(".cld-tax-order-list").sortable({connectWith:".cld-tax-order",axis:"y",handle:".cld-tax-order-list-item-handle",placeholder:"cld-tax-order-list-item-placeholder",forcePlaceholderSize:!0,helper:"clone"})}};void 0!==window.CLDN&&(l._init(),jQuery("[data-wp-lists] .selectit input[checked]").each(((e,t)=>{jQuery(t).trigger("change")})));var d=l;const u={wpWrap:document.getElementById("wpwrap"),wpContent:document.getElementById("wpbody-content"),libraryWrap:document.getElementById("cloudinary-embed"),_init(){const e=this;"undefined"!=typeof CLD_ML&&(cloudinary.openMediaLibrary(CLD_ML.mloptions,{insertHandler(){alert("Import is not yet implemented.")}}),window.addEventListener("resize",(function(){e._resize()})),e._resize())},_resize(){const e=getComputedStyle(this.wpContent);this.libraryWrap.style.height=this.wpWrap.offsetHeight-parseInt(e.getPropertyValue("padding-bottom"))+"px"}};var p=u;u._init();const f={_init(){const e=this;if("undefined"!=typeof CLDIS){[...document.getElementsByClassName("cld-notice-box")].forEach((t=>{const n=t.getElementsByClassName("notice-dismiss");n.length&&n[0].addEventListener("click",(n=>{t.style.height=t.offsetHeight+"px",n.preventDefault(),setTimeout((function(){e._dismiss(t)}),5)}))}))}},_dismiss(e){const t=e.dataset.dismiss,n=parseInt(e.dataset.duration);e.classList.add("dismissed"),e.style.height="0px",setTimeout((function(){e.remove()}),400),0<n&&wp.ajax.send({url:CLDIS.url,data:{token:t,duration:n,_wpnonce:CLDIS.nonce}})}};window.addEventListener("load",f._init());var h=f;function m(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function g(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function v(e){var t=g(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function y(e){return e instanceof g(e).Element||e instanceof Element}function b(e){return e instanceof g(e).HTMLElement||e instanceof HTMLElement}function w(e){return"undefined"!=typeof ShadowRoot&&(e instanceof g(e).ShadowRoot||e instanceof ShadowRoot)}function _(e){return e?(e.nodeName||"").toLowerCase():null}function x(e){return((y(e)?e.ownerDocument:e.document)||window.document).documentElement}function E(e){return m(x(e)).left+v(e).scrollLeft}function O(e){return g(e).getComputedStyle(e)}function L(e){var t=O(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function C(e,t,n){void 0===n&&(n=!1);var r,i,o=x(t),a=m(e),s=b(t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&(("body"!==_(t)||L(o))&&(c=(r=t)!==g(r)&&b(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:v(r)),b(t)?((l=m(t)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=E(o))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function A(e){var t=m(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function k(e){return"html"===_(e)?e:e.assignedSlot||e.parentNode||(w(e)?e.host:null)||x(e)}function T(e){return["html","body","#document"].indexOf(_(e))>=0?e.ownerDocument.body:b(e)&&L(e)?e:T(k(e))}function j(e,t){var n;void 0===t&&(t=[]);var r=T(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=g(r),a=i?[o].concat(o.visualViewport||[],L(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(j(k(a)))}function S(e){return["table","td","th"].indexOf(_(e))>=0}function D(e){return b(e)&&"fixed"!==O(e).position?e.offsetParent:null}function I(e){for(var t=g(e),n=D(e);n&&S(n)&&"static"===O(n).position;)n=D(n);return n&&("html"===_(n)||"body"===_(n)&&"static"===O(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&b(e)&&"fixed"===O(e).position)return null;for(var n=k(e);b(n)&&["html","body"].indexOf(_(n))<0;){var r=O(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var P="top",N="bottom",M="right",B="left",F="auto",R=[P,N,M,B],z="start",H="end",q="viewport",U="popper",W=R.reduce((function(e,t){return e.concat([t+"-"+z,t+"-"+H])}),[]),V=[].concat(R,[F]).reduce((function(e,t){return e.concat([t,t+"-"+z,t+"-"+H])}),[]),Q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var G={placement:"bottom",modifiers:[],strategy:"absolute"};function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function X(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?G:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},G,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,d={state:s,setOptions:function(n){u(),s.options=Object.assign({},o,s.options,n),s.scrollParents={reference:y(e)?j(e):e.contextElement?j(e.contextElement):[],popper:j(t)};var i=function(e){var t=$(e);return Q.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,s.options.modifiers)));return s.orderedModifiers=i.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:d,options:r}),a=function(){};c.push(o||a)}})),d.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,n=e.popper;if(J(t,n)){s.rects={reference:C(t,I(n),"fixed"===s.options.strategy),popper:A(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,c=void 0===a?{}:a,u=i.name;"function"==typeof o&&(s=o({state:s,options:c,name:u,instance:d})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){u(),l=!0}};if(!J(e,t))return d;function u(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var Y={passive:!0};var K={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,c=g(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,Y)})),s&&c.addEventListener("resize",n.update,Y),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Y)})),s&&c.removeEventListener("resize",n.update,Y)}},data:{}};function Z(e){return e.split("-")[0]}function ee(e){return e.split("-")[1]}function te(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ne(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Z(i):null,a=i?ee(i):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case P:t={x:s,y:n.y-r.height};break;case N:t={x:s,y:n.y+n.height};break;case M:t={x:n.x+n.width,y:c};break;case B:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=o?te(o):null;if(null!=l){var d="y"===l?"height":"width";switch(a){case z:t[l]=t[l]-(n[d]/2-r[d]/2);break;case H:t[l]=t[l]+(n[d]/2-r[d]/2)}}return t}var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ne({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ie=Math.max,oe=Math.min,ae=Math.round,se={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ce(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,d=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:ae(ae(t*r)/r)||0,y:ae(ae(n*r)/r)||0}}(o):"function"==typeof l?l(o):o,u=d.x,p=void 0===u?0:u,f=d.y,h=void 0===f?0:f,m=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),y=B,b=P,w=window;if(c){var _=I(n),E="clientHeight",L="clientWidth";_===g(n)&&"static"!==O(_=x(n)).position&&(E="scrollHeight",L="scrollWidth"),_=_,i===P&&(b=N,h-=_[E]-r.height,h*=s?1:-1),i===B&&(y=M,p-=_[L]-r.width,p*=s?1:-1)}var C,A=Object.assign({position:a},c&&se);return s?Object.assign({},A,((C={})[b]=v?"0":"",C[y]=m?"0":"",C.transform=(w.devicePixelRatio||1)<2?"translate("+p+"px, "+h+"px)":"translate3d("+p+"px, "+h+"px, 0)",C)):Object.assign({},A,((t={})[b]=v?h+"px":"",t[y]=m?p+"px":"",t.transform="",t))}var le={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];b(i)&&_(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});b(r)&&_(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var de={left:"right",right:"left",bottom:"top",top:"bottom"};function ue(e){return e.replace(/left|right|bottom|top/g,(function(e){return de[e]}))}var pe={start:"end",end:"start"};function fe(e){return e.replace(/start|end/g,(function(e){return pe[e]}))}function he(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&w(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function me(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ge(e,t){return t===q?me(function(e){var t=g(e),n=x(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+E(e),y:s}}(e)):b(t)?function(e){var t=m(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):me(function(e){var t,n=x(e),r=v(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=ie(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ie(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+E(e),c=-r.scrollTop;return"rtl"===O(i||n).direction&&(s+=ie(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(x(e)))}function ve(e,t,n){var r="clippingParents"===t?function(e){var t=j(k(e)),n=["absolute","fixed"].indexOf(O(e).position)>=0&&b(e)?I(e):e;return y(n)?t.filter((function(e){return y(e)&&he(e,n)&&"body"!==_(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=ge(e,n);return t.top=ie(r.top,t.top),t.right=oe(r.right,t.right),t.bottom=oe(r.bottom,t.bottom),t.left=ie(r.left,t.left),t}),ge(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ye(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function be(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function we(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,c=void 0===s?q:s,l=n.elementContext,d=void 0===l?U:l,u=n.altBoundary,p=void 0!==u&&u,f=n.padding,h=void 0===f?0:f,g=ye("number"!=typeof h?h:be(h,R)),v=d===U?"reference":U,b=e.elements.reference,w=e.rects.popper,_=e.elements[p?v:d],E=ve(y(_)?_:_.contextElement||x(e.elements.popper),a,c),O=m(b),L=ne({reference:O,element:w,strategy:"absolute",placement:i}),C=me(Object.assign({},w,L)),A=d===U?C:O,k={top:E.top-A.top+g.top,bottom:A.bottom-E.bottom+g.bottom,left:E.left-A.left+g.left,right:A.right-E.right+g.right},T=e.modifiersData.offset;if(d===U&&T){var j=T[i];Object.keys(k).forEach((function(e){var t=[M,N].indexOf(e)>=0?1:-1,n=[P,N].indexOf(e)>=0?"y":"x";k[e]+=j[n]*t}))}return k}function _e(e,t,n){return ie(e,oe(t,n))}function xe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ee(e){return[P,M,N,B].some((function(t){return e[t]>=0}))}var Oe=X({defaultModifiers:[K,re,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,c=void 0===s||s,l={placement:Z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ce(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ce(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},le,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=V.reduce((function(e,n){return e[n]=function(e,t,n){var r=Z(e),i=[B,P].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[B,M].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=Z(g),y=c||(v===g||!h?[ue(g)]:function(e){if(Z(e)===F)return[];var t=ue(e);return[fe(e),t,fe(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(Z(n)===F?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?V:c,d=ee(r),u=d?s?W:W.filter((function(e){return ee(e)===d})):R,p=u.filter((function(e){return l.indexOf(e)>=0}));0===p.length&&(p=u);var f=p.reduce((function(t,n){return t[n]=we(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Z(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:l,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,x=new Map,E=!0,O=b[0],L=0;L<b.length;L++){var C=b[L],A=Z(C),k=ee(C)===z,T=[P,N].indexOf(A)>=0,j=T?"width":"height",S=we(t,{placement:C,boundary:d,rootBoundary:u,altBoundary:p,padding:l}),D=T?k?M:B:k?N:P;w[j]>_[j]&&(D=ue(D));var I=ue(D),H=[];if(o&&H.push(S[A]<=0),s&&H.push(S[D]<=0,S[I]<=0),H.every((function(e){return e}))){O=C,E=!1;break}x.set(C,H)}if(E)for(var q=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},U=h?3:1;U>0;U--){if("break"===q(U))break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,d=n.altBoundary,u=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,g=we(t,{boundary:c,rootBoundary:l,padding:u,altBoundary:d}),v=Z(t.placement),y=ee(t.placement),b=!y,w=te(v),_="x"===w?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,O=t.rects.popper,L="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C={x:0,y:0};if(x){if(o||s){var k="y"===w?P:B,T="y"===w?N:M,j="y"===w?"height":"width",S=x[w],D=x[w]+g[k],F=x[w]-g[T],R=f?-O[j]/2:0,H=y===z?E[j]:O[j],q=y===z?-O[j]:-E[j],U=t.elements.arrow,W=f&&U?A(U):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Q=V[k],$=V[T],G=_e(0,E[j],W[j]),J=b?E[j]/2-R-G-Q-L:H-G-Q-L,X=b?-E[j]/2+R+G+$+L:q+G+$+L,Y=t.elements.arrow&&I(t.elements.arrow),K=Y?"y"===w?Y.clientTop||0:Y.clientLeft||0:0,ne=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,re=x[w]+J-ne-K,ae=x[w]+X-ne;if(o){var se=_e(f?oe(D,re):D,S,f?ie(F,ae):F);x[w]=se,C[w]=se-S}if(s){var ce="x"===w?P:B,le="x"===w?N:M,de=x[_],ue=de+g[ce],pe=de-g[le],fe=_e(f?oe(ue,re):ue,de,f?ie(pe,ae):pe);x[_]=fe,C[_]=fe-de}}t.modifiersData[r]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Z(n.placement),c=te(s),l=[B,M].indexOf(s)>=0?"height":"width";if(o&&a){var d=function(e,t){return ye("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:be(e,R))}(i.padding,n),u=A(o),p="y"===c?P:B,f="y"===c?N:M,h=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],g=I(o),v=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,y=h/2-m/2,b=d[p],w=v-u[l]-d[f],_=v/2-u[l]/2+y,x=_e(b,_,w),E=c;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&he(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=we(t,{elementContext:"reference"}),s=we(t,{altBoundary:!0}),c=xe(a,r),l=xe(s,i,o),d=Ee(c),u=Ee(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),Le="tippy-content",Ce="tippy-backdrop",Ae="tippy-arrow",ke="tippy-svg-arrow",Te={passive:!0,capture:!0};function je(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function Se(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function De(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Ie(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function Pe(e){return[].concat(e)}function Ne(e,t){-1===e.indexOf(t)&&e.push(t)}function Me(e){return e.split("-")[0]}function Be(e){return[].slice.call(e)}function Fe(){return document.createElement("div")}function Re(e){return["Element","Fragment"].some((function(t){return Se(e,t)}))}function ze(e){return Se(e,"MouseEvent")}function He(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function qe(e){return Re(e)?[e]:function(e){return Se(e,"NodeList")}(e)?Be(e):Array.isArray(e)?e:Be(document.querySelectorAll(e))}function Ue(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function We(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Ve(e){var t,n=Pe(e)[0];return(null==n||null==(t=n.ownerDocument)?void 0:t.body)?n.ownerDocument:document}function Qe(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}var $e={isTouch:!1},Ge=0;function Je(){$e.isTouch||($e.isTouch=!0,window.performance&&document.addEventListener("mousemove",Xe))}function Xe(){var e=performance.now();e-Ge<20&&($e.isTouch=!1,document.removeEventListener("mousemove",Xe)),Ge=e}function Ye(){var e=document.activeElement;if(He(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Ke="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",Ze=/MSIE |Trident\//.test(Ke);var et={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},tt=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},et,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),nt=Object.keys(tt);function rt(e){var t=(e.plugins||[]).reduce((function(t,n){var r=n.name,i=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:i),t}),{});return Object.assign({},e,{},t)}function it(e,t){var n=Object.assign({},t,{content:De(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(rt(Object.assign({},tt,{plugins:t}))):nt).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},tt.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function ot(e,t){e.innerHTML=t}function at(e){var t=Fe();return!0===e?t.className=Ae:(t.className=ke,Re(e)?t.appendChild(e):ot(t,e)),t}function st(e,t){Re(t.content)?(ot(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?ot(e,t.content):e.textContent=t.content)}function ct(e){var t=e.firstElementChild,n=Be(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(Le)})),arrow:n.find((function(e){return e.classList.contains(Ae)||e.classList.contains(ke)})),backdrop:n.find((function(e){return e.classList.contains(Ce)}))}}function lt(e){var t=Fe(),n=Fe();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Fe();function i(n,r){var i=ct(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||st(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(at(r.arrow))):o.appendChild(at(r.arrow)):s&&o.removeChild(s)}return r.className=Le,r.setAttribute("data-state","hidden"),st(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}lt.$$tippy=!0;var dt=1,ut=[],pt=[];function ft(e,t){var n,r,i,o,a,s,c,l,d,u=it(e,Object.assign({},tt,{},rt((n=t,Object.keys(n).reduce((function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e}),{}))))),p=!1,f=!1,h=!1,m=!1,g=[],v=Ie(G,u.interactiveDebounce),y=dt++,b=(d=u.plugins).filter((function(e,t){return d.indexOf(e)===t})),w={id:y,reference:e,popper:Fe(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)},setProps:function(t){0;if(w.state.isDestroyed)return;P("onBeforeUpdate",[w,t]),Q();var n=w.props,r=it(e,Object.assign({},w.props,{},t,{ignoreAttributes:!0}));w.props=r,V(),n.interactiveDebounce!==r.interactiveDebounce&&(B(),v=Ie(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Pe(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");M(),I(),E&&E(n,r);w.popperInstance&&(K(),ee().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));P("onAfterUpdate",[w,t])},setContent:function(e){w.setProps({content:e})},show:function(){0;var e=w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=$e.isTouch&&!w.props.touch,i=je(w.props.duration,0,tt.duration);if(e||t||n||r)return;if(T().hasAttribute("disabled"))return;if(P("onShow",[w],!1),!1===w.props.onShow(w))return;w.state.isVisible=!0,k()&&(x.style.visibility="visible");I(),H(),w.state.isMounted||(x.style.transition="none");if(k()){var o=S(),a=o.box,s=o.content;Ue([a,s],0)}c=function(){var e;if(w.state.isVisible&&!m){if(m=!0,x.offsetHeight,x.style.transition=w.props.moveTransition,k()&&w.props.animation){var t=S(),n=t.box,r=t.content;Ue([n,r],i),We([n,r],"visible")}N(),M(),Ne(pt,w),null==(e=w.popperInstance)||e.forceUpdate(),w.state.isMounted=!0,P("onMount",[w]),w.props.animation&&k()&&function(e,t){U(e,t)}(i,(function(){w.state.isShown=!0,P("onShown",[w])}))}},function(){var e,t=w.props.appendTo,n=T();e=w.props.interactive&&t===tt.appendTo||"parent"===t?n.parentNode:De(t,[n]);e.contains(x)||e.appendChild(x);K(),!1}()},hide:function(){0;var e=!w.state.isVisible,t=w.state.isDestroyed,n=!w.state.isEnabled,r=je(w.props.duration,1,tt.duration);if(e||t||n)return;if(P("onHide",[w],!1),!1===w.props.onHide(w))return;w.state.isVisible=!1,w.state.isShown=!1,m=!1,p=!1,k()&&(x.style.visibility="hidden");if(B(),q(),I(),k()){var i=S(),o=i.box,a=i.content;w.props.animation&&(Ue([o,a],r),We([o,a],"hidden"))}N(),M(),w.props.animation?k()&&function(e,t){U(e,(function(){!w.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}(r,w.unmount):w.unmount()},hideWithInteractivity:function(e){0;j().addEventListener("mousemove",v),Ne(ut,v),v(e)},enable:function(){w.state.isEnabled=!0},disable:function(){w.hide(),w.state.isEnabled=!1},unmount:function(){0;w.state.isVisible&&w.hide();if(!w.state.isMounted)return;Z(),ee().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);pt=pt.filter((function(e){return e!==w})),w.state.isMounted=!1,P("onHidden",[w])},destroy:function(){0;if(w.state.isDestroyed)return;w.clearDelayTimeouts(),w.unmount(),Q(),delete e._tippy,w.state.isDestroyed=!0,P("onDestroy",[w])}};if(!u.render)return w;var _=u.render(w),x=_.popper,E=_.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+w.id,w.popper=x,e._tippy=w,x._tippy=w;var O=b.map((function(e){return e.fn(w)})),L=e.hasAttribute("aria-expanded");return V(),M(),I(),P("onCreate",[w]),u.showOnCreate&&te(),x.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(e){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&(j().addEventListener("mousemove",v),v(e))})),w;function C(){var e=w.props.touch;return Array.isArray(e)?e:[e,0]}function A(){return"hold"===C()[0]}function k(){var e;return!!(null==(e=w.props.render)?void 0:e.$$tippy)}function T(){return l||e}function j(){var e=T().parentNode;return e?Ve(e):document}function S(){return ct(x)}function D(e){return w.state.isMounted&&!w.state.isVisible||$e.isTouch||a&&"focus"===a.type?0:je(w.props.delay,e?0:1,tt.delay)}function I(){x.style.pointerEvents=w.props.interactive&&w.state.isVisible?"":"none",x.style.zIndex=""+w.props.zIndex}function P(e,t,n){var r;(void 0===n&&(n=!0),O.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n)&&(r=w.props)[e].apply(r,t)}function N(){var t=w.props.aria;if(t.content){var n="aria-"+t.content,r=x.id;Pe(w.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(w.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}}))}}function M(){!L&&w.props.aria.expanded&&Pe(w.props.triggerTarget||e).forEach((function(e){w.props.interactive?e.setAttribute("aria-expanded",w.state.isVisible&&e===T()?"true":"false"):e.removeAttribute("aria-expanded")}))}function B(){j().removeEventListener("mousemove",v),ut=ut.filter((function(e){return e!==v}))}function F(e){if(!($e.isTouch&&(h||"mousedown"===e.type)||w.props.interactive&&x.contains(e.target))){if(T().contains(e.target)){if($e.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else P("onClickOutside",[w,e]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),f=!0,setTimeout((function(){f=!1})),w.state.isMounted||q())}}function R(){h=!0}function z(){h=!1}function H(){var e=j();e.addEventListener("mousedown",F,!0),e.addEventListener("touchend",F,Te),e.addEventListener("touchstart",z,Te),e.addEventListener("touchmove",R,Te)}function q(){var e=j();e.removeEventListener("mousedown",F,!0),e.removeEventListener("touchend",F,Te),e.removeEventListener("touchstart",z,Te),e.removeEventListener("touchmove",R,Te)}function U(e,t){var n=S().box;function r(e){e.target===n&&(Qe(n,"remove",r),t())}if(0===e)return t();Qe(n,"remove",s),Qe(n,"add",r),s=r}function W(t,n,r){void 0===r&&(r=!1),Pe(w.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),g.push({node:e,eventType:t,handler:n,options:r})}))}function V(){var e;A()&&(W("touchstart",$,{passive:!0}),W("touchend",J,{passive:!0})),(e=w.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(W(e,$),e){case"mouseenter":W("mouseleave",J);break;case"focus":W(Ze?"focusout":"blur",X);break;case"focusin":W("focusout",X)}}))}function Q(){g.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)})),g=[]}function $(e){var t,n=!1;if(w.state.isEnabled&&!Y(e)&&!f){var r="focus"===(null==(t=a)?void 0:t.type);a=e,l=e.currentTarget,M(),!w.state.isVisible&&ze(e)&&ut.forEach((function(t){return t(e)})),"click"===e.type&&(w.props.trigger.indexOf("mouseenter")<0||p)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:te(e),"click"===e.type&&(p=!n),n&&!r&&ne(e)}}function G(e){var t=e.target,n=T().contains(t)||x.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,i=e.popperState,o=e.props.interactiveBorder,a=Me(i.placement),s=i.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,d="right"===a?s.left.x:0,u="left"===a?s.right.x:0,p=t.top-r+c>o,f=r-t.bottom-l>o,h=t.left-n+d>o,m=n-t.right-u>o;return p||f||h||m}))}(ee().concat(x).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean),e)&&(B(),ne(e))}function J(e){Y(e)||w.props.trigger.indexOf("click")>=0&&p||(w.props.interactive?w.hideWithInteractivity(e):ne(e))}function X(e){w.props.trigger.indexOf("focusin")<0&&e.target!==T()||w.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||ne(e)}function Y(e){return!!$e.isTouch&&A()!==e.type.indexOf("touch")>=0}function K(){Z();var t=w.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,s=k()?ct(x).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||T()}:e,d=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(k()){var n=S().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];k()&&s&&d.push({name:"arrow",options:{element:s,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),w.popperInstance=Oe(l,x,Object.assign({},n,{placement:r,onFirstUpdate:c,modifiers:d}))}function Z(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function ee(){return Be(x.querySelectorAll("[data-tippy-root]"))}function te(e){w.clearDelayTimeouts(),e&&P("onTrigger",[w,e]),H();var t=D(!0),n=C(),i=n[0],o=n[1];$e.isTouch&&"hold"===i&&o&&(t=o),t?r=setTimeout((function(){w.show()}),t):w.show()}function ne(e){if(w.clearDelayTimeouts(),P("onUntrigger",[w,e]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&p)){var t=D(!1);t?i=setTimeout((function(){w.state.isVisible&&w.hide()}),t):o=requestAnimationFrame((function(){w.hide()}))}}else q()}}function ht(e,t){void 0===t&&(t={});var n=tt.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Je,Te),window.addEventListener("blur",Ye);var r=Object.assign({},t,{plugins:n}),i=qe(e).reduce((function(e,t){var n=t&&ft(t,r);return n&&e.push(n),e}),[]);return Re(e)?i[0]:i}ht.defaultProps=tt,ht.setDefaultProps=function(e){Object.keys(e).forEach((function(t){tt[t]=e[t]}))},ht.currentInput=$e;Object.assign({},le,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});ht.setDefaultProps({render:lt});var mt=ht,gt=n(4),vt=n.n(gt);var yt={controlled:null,bind(e){this.controlled=e,this.controlled.forEach((e=>{this._master(e)})),this._init()},_init(){this.controlled.forEach((e=>{this._checkUp(e)}))},_master(e){const t=JSON.parse(e.dataset.master);e.dataset.size&&(e.filesize=parseInt(e.dataset.size,10)),e.masters=t.map((t=>{const n=document.getElementById(t),r=document.getElementById(t+"_size_wrapper");return r&&(n.filesize=0,n.sizespan=r),this._addChild(n,e),n})),this._bindEvents(e),e.masters.forEach((e=>{this._bindEvents(e)}))},_bindEvents(e){e.eventBound||(e.addEventListener("click",(t=>{const n=t.target;n.elements&&(this._checkDown(n),this._evaluateSize(n)),n.masters&&this._checkUp(e)})),e.eventBound=!0)},_addChild(e,t){const n=e.elements?e.elements:[];-1===n.indexOf(t)&&(n.push(t),e.elements=n)},_removeChild(e,t){const n=e.elements.indexOf(t);-1<n&&e.elements.splice(n,1)},_checkDown(e){e.elements&&(e.classList.remove("partial"),e.elements.forEach((t=>{t.checked!==e.checked&&(t.checked=e.checked,t.disabled&&(t.checked=!1),t.dispatchEvent(new Event("change")))})),e.elements.forEach((t=>{this._checkDown(t),t.elements||this._checkUp(t,e)})))},_checkUp(e,t){e.masters&&[...e.masters].forEach((e=>{e!==t&&this._evaluateCheckStatus(e),this._checkUp(e),this._evaluateSize(e)}))},_evaluateCheckStatus(e){let t=0,n=e.classList.contains("partial");n&&(e.classList.remove("partial"),n=!1),e.elements.forEach((r=>{null!==r.parentNode?(t+=r.checked,r.classList.contains("partial")&&(n=!0)):this._removeChild(e,r)}));let r="some";t===e.elements.length?r="on":0===t?r="off":n=!0,n&&e.classList.add("partial");const i="off"!==r;e.checked===i&&e.value===r||(e.value=r,e.checked=i,e.dispatchEvent(new Event("change")))},_evaluateSize(e){if(e.sizespan&&e.elements){e.filesize=0,e.elements.forEach((t=>{t.checked&&(e.filesize+=t.filesize)}));let t=null;0<e.filesize&&(t=vt()(e.filesize,{spacer:" "}).human("jedec")),e.sizespan.innerText=t}}},bt=n(1),wt=n.n(bt);n(0);wt()(console.error);var _t,xt,Et,Ot;_t={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},xt=["(","?"],Et={")":["("],":":["?","?:"]},Ot=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var Lt={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,n){if(e)throw t;return n}};function Ct(e){var t=function(e){for(var t,n,r,i,o=[],a=[];t=e.match(Ot);){for(n=t[0],(r=e.substr(0,t.index).trim())&&o.push(r);i=a.pop();){if(Et[n]){if(Et[n][0]===i){n=Et[n][1]||n;break}}else if(xt.indexOf(i)>=0||_t[i]<_t[n]){a.push(i);break}o.push(i)}Et[n]||a.push(n),e=e.substr(t.index+n.length)}return(e=e.trim())&&o.push(e),o.concat(a.reverse())}(e);return function(e){return function(e,t){var n,r,i,o,a,s,c=[];for(n=0;n<e.length;n++){if(a=e[n],o=Lt[a]){for(r=o.length,i=Array(r);r--;)i[r]=c.pop();try{s=o.apply(null,i)}catch(e){return e}}else s=t.hasOwnProperty(a)?t[a]:+a;c.push(s)}return c[0]}(t,e)}}var At={contextDelimiter:"",onMissingKey:null};function kt(e,t){var n;for(n in this.data=e,this.pluralForms={},this.options={},At)this.options[n]=void 0!==t&&n in t?t[n]:At[n]}kt.prototype.getPluralForm=function(e,t){var n,r,i,o,a=this.pluralForms[e];return a||("function"!=typeof(i=(n=this.data[e][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(r=function(e){var t,n,r;for(t=e.split(";"),n=0;n<t.length;n++)if(0===(r=t[n].trim()).indexOf("plural="))return r.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),o=Ct(r),i=function(e){return+o({n:e})}),a=this.pluralForms[e]=i),a(t)},kt.prototype.dcnpgettext=function(e,t,n,r,i){var o,a,s;return o=void 0===i?0:this.getPluralForm(e,i),a=n,t&&(a=t+this.options.contextDelimiter+n),(s=this.data[e][a])&&s[o]?s[o]:(this.options.onMissingKey&&this.options.onMissingKey(n,e),0===o?n:r)};const Tt={"":{plural_forms:e=>1===e?0:1}},jt=/^i18n\.(n?gettext|has_translation)(_|$)/;var St=function(e){return"string"!=typeof e||""===e?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(e)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)};var Dt=function(e){return"string"!=typeof e||""===e?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(e)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(e)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)};var It=function(e,t){return function(n,r,i,o=10){const a=e[t];if(!Dt(n))return;if(!St(r))return;if("function"!=typeof i)return void console.error("The hook callback must be a function.");if("number"!=typeof o)return void console.error("If specified, the hook priority must be a number.");const s={callback:i,priority:o,namespace:r};if(a[n]){const e=a[n].handlers;let t;for(t=e.length;t>0&&!(o>=e[t-1].priority);t--);t===e.length?e[t]=s:e.splice(t,0,s),a.__current.forEach((e=>{e.name===n&&e.currentIndex>=t&&e.currentIndex++}))}else a[n]={handlers:[s],runs:0};"hookAdded"!==n&&e.doAction("hookAdded",n,r,i,o)}};var Pt=function(e,t,n=!1){return function(r,i){const o=e[t];if(!Dt(r))return;if(!n&&!St(i))return;if(!o[r])return 0;let a=0;if(n)a=o[r].handlers.length,o[r]={runs:o[r].runs,handlers:[]};else{const e=o[r].handlers;for(let t=e.length-1;t>=0;t--)e[t].namespace===i&&(e.splice(t,1),a++,o.__current.forEach((e=>{e.name===r&&e.currentIndex>=t&&e.currentIndex--})))}return"hookRemoved"!==r&&e.doAction("hookRemoved",r,i),a}};var Nt=function(e,t){return function(n,r){const i=e[t];return void 0!==r?n in i&&i[n].handlers.some((e=>e.namespace===r)):n in i}};var Mt=function(e,t,n=!1){return function(r,...i){const o=e[t];o[r]||(o[r]={handlers:[],runs:0}),o[r].runs++;const a=o[r].handlers;if(!a||!a.length)return n?i[0]:void 0;const s={name:r,currentIndex:0};for(o.__current.push(s);s.currentIndex<a.length;){const e=a[s.currentIndex].callback.apply(null,i);n&&(i[0]=e),s.currentIndex++}return o.__current.pop(),n?i[0]:void 0}};var Bt=function(e,t){return function(){var n,r;const i=e[t];return null!==(n=null===(r=i.__current[i.__current.length-1])||void 0===r?void 0:r.name)&&void 0!==n?n:null}};var Ft=function(e,t){return function(n){const r=e[t];return void 0===n?void 0!==r.__current[0]:!!r.__current[0]&&n===r.__current[0].name}};var Rt=function(e,t){return function(n){const r=e[t];if(Dt(n))return r[n]&&r[n].runs?r[n].runs:0}};class zt{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=It(this,"actions"),this.addFilter=It(this,"filters"),this.removeAction=Pt(this,"actions"),this.removeFilter=Pt(this,"filters"),this.hasAction=Nt(this,"actions"),this.hasFilter=Nt(this,"filters"),this.removeAllActions=Pt(this,"actions",!0),this.removeAllFilters=Pt(this,"filters",!0),this.doAction=Mt(this,"actions"),this.applyFilters=Mt(this,"filters",!0),this.currentAction=Bt(this,"actions"),this.currentFilter=Bt(this,"filters"),this.doingAction=Ft(this,"actions"),this.doingFilter=Ft(this,"filters"),this.didAction=Rt(this,"actions"),this.didFilter=Rt(this,"filters")}}const Ht=function(){return new zt}(),{addAction:qt,addFilter:Ut,removeAction:Wt,removeFilter:Vt,hasAction:Qt,hasFilter:$t,removeAllActions:Gt,removeAllFilters:Jt,doAction:Xt,applyFilters:Yt,currentAction:Kt,currentFilter:Zt,doingAction:en,doingFilter:tn,didAction:nn,didFilter:rn,actions:on,filters:an}=Ht,sn=((e,t,n)=>{const r=new kt({}),i=new Set,o=()=>{i.forEach((e=>e()))},a=(e,t="default")=>{r.data[t]={...Tt,...r.data[t],...e},r.data[t][""]={...Tt[""],...r.data[t][""]}},s=(e,t)=>{a(e,t),o()},c=(e="default",t,n,i,o)=>(r.data[e]||a(void 0,e),r.dcnpgettext(e,t,n,i,o)),l=(e="default")=>e,d=(e,t,r)=>{let i=c(r,t,e);return n?(i=n.applyFilters("i18n.gettext_with_context",i,e,t,r),n.applyFilters("i18n.gettext_with_context_"+l(r),i,e,t,r)):i};if(e&&s(e,t),n){const e=e=>{jt.test(e)&&o()};n.addAction("hookAdded","core/i18n",e),n.addAction("hookRemoved","core/i18n",e)}return{getLocaleData:(e="default")=>r.data[e],setLocaleData:s,resetLocaleData:(e,t)=>{r.data={},r.pluralForms={},s(e,t)},subscribe:e=>(i.add(e),()=>i.delete(e)),__:(e,t)=>{let r=c(t,void 0,e);return n?(r=n.applyFilters("i18n.gettext",r,e,t),n.applyFilters("i18n.gettext_"+l(t),r,e,t)):r},_x:d,_n:(e,t,r,i)=>{let o=c(i,void 0,e,t,r);return n?(o=n.applyFilters("i18n.ngettext",o,e,t,r,i),n.applyFilters("i18n.ngettext_"+l(i),o,e,t,r,i)):o},_nx:(e,t,r,i,o)=>{let a=c(o,i,e,t,r);return n?(a=n.applyFilters("i18n.ngettext_with_context",a,e,t,r,i,o),n.applyFilters("i18n.ngettext_with_context_"+l(o),a,e,t,r,i,o)):a},isRTL:()=>"rtl"===d("ltr","text direction"),hasTranslation:(e,t,i)=>{var o,a;const s=t?t+""+e:e;let c=!(null===(o=r.data)||void 0===o||null===(a=o[null!=i?i:"default"])||void 0===a||!a[s]);return n&&(c=n.applyFilters("i18n.has_translation",c,e,t,i),c=n.applyFilters("i18n.has_translation_"+l(i),c,e,t,i)),c}}})(void 0,void 0,Ht);sn.getLocaleData.bind(sn),sn.setLocaleData.bind(sn),sn.resetLocaleData.bind(sn),sn.subscribe.bind(sn);const cn=sn.__.bind(sn);sn._x.bind(sn),sn._n.bind(sn),sn._nx.bind(sn),sn.isRTL.bind(sn),sn.hasTranslation.bind(sn);var ln=function(e){const t=(e,n)=>{const{headers:r={}}=e;for(const i in r)if("x-wp-nonce"===i.toLowerCase()&&r[i]===t.nonce)return n(e);return n({...e,headers:{...r,"X-WP-Nonce":t.nonce}})};return t.nonce=e,t};var dn=(e,t)=>{let n,r,i=e.path;return"string"==typeof e.namespace&&"string"==typeof e.endpoint&&(n=e.namespace.replace(/^\/|\/$/g,""),r=e.endpoint.replace(/^\//,""),i=r?n+"/"+r:n),delete e.namespace,delete e.endpoint,t({...e,path:i})};var un=e=>(t,n)=>dn(t,(t=>{let r,i=t.url,o=t.path;return"string"==typeof o&&(r=e,-1!==e.indexOf("?")&&(o=o.replace("?","&")),o=o.replace(/^\//,""),"string"==typeof r&&-1!==r.indexOf("?")&&(o=o.replace("?","&")),i=r+o),n({...t,url:i})}));function pn(e){const t=e.split("?"),n=t[1],r=t[0];return n?r+"?"+n.split("&").map((e=>e.split("="))).sort(((e,t)=>e[0].localeCompare(t[0]))).map((e=>e.join("="))).join("&"):r}var fn=function(e){const t=Object.keys(e).reduce(((t,n)=>(t[pn(n)]=e[n],t)),{});return(e,n)=>{const{parse:r=!0}=e;if("string"==typeof e.path){const n=e.method||"GET",i=pn(e.path);if("GET"===n&&t[i]){const e=t[i];return delete t[i],Promise.resolve(r?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}if("OPTIONS"===n&&t[n]&&t[n][i])return Promise.resolve(r?t[n][i].body:t[n][i])}return n(e)}};function hn(e){return(function(e){let t;try{t=new URL(e,"http://example.com").search.substring(1)}catch(e){}if(t)return t}(e)||"").replace(/\+/g,"%20").split("&").reduce(((e,t)=>{const[n,r=""]=t.split("=").filter(Boolean).map(decodeURIComponent);if(n){!function(e,t,n){const r=t.length,i=r-1;for(let o=0;o<r;o++){let r=t[o];!r&&Array.isArray(e)&&(r=e.length.toString());const a=!isNaN(Number(t[o+1]));e[r]=o===i?n:e[r]||(a?[]:{}),Array.isArray(e[r])&&!a&&(e[r]={...e[r]}),e=e[r]}}(e,n.replace(/\]/g,"").split("["),r)}return e}),{})}function mn(e="",t){if(!t||!Object.keys(t).length)return e;let n=e;const r=e.indexOf("?");return-1!==r&&(t=Object.assign(hn(e),t),n=n.substr(0,r)),n+"?"+function(e){let t="";const n=Object.entries(e);let r;for(;r=n.shift();){let[e,i]=r;if(Array.isArray(i)||i&&i.constructor===Object){const t=Object.entries(i).reverse();for(const[r,i]of t)n.unshift([`${e}[${r}]`,i])}else void 0!==i&&(null===i&&(i=""),t+="&"+[e,i].map(encodeURIComponent).join("="))}return t.substr(1)}(t)}const gn=({path:e,url:t,...n},r)=>({...n,url:t&&mn(t,r),path:e&&mn(e,r)}),vn=e=>e.json?e.json():Promise.reject(e),yn=e=>{const{next:t}=(e=>{if(!e)return{};const t=e.match(/<([^>]+)>; rel="next"/);return t?{next:t[1]}:{}})(e.headers.get("link"));return t};var bn=async(e,t)=>{if(!1===e.parse)return t(e);if(!(e=>{const t=!!e.path&&-1!==e.path.indexOf("per_page=-1"),n=!!e.url&&-1!==e.url.indexOf("per_page=-1");return t||n})(e))return t(e);const n=await Dn({...gn(e,{per_page:100}),parse:!1}),r=await vn(n);if(!Array.isArray(r))return r;let i=yn(n);if(!i)return r;let o=[].concat(r);for(;i;){const t=await Dn({...e,path:void 0,url:i,parse:!1}),n=await vn(t);o=o.concat(n),i=yn(t)}return o};const wn=new Set(["PATCH","PUT","DELETE"]),_n="GET";function xn(e,t){return void 0!==function(e,t){return hn(e)[t]}(e,t)}const En=(e,t=!0)=>Promise.resolve(((e,t=!0)=>t?204===e.status?null:e.json?e.json():Promise.reject(e):e)(e,t)).catch((e=>On(e,t)));function On(e,t=!0){if(!t)throw e;return(e=>{const t={code:"invalid_json",message:cn("The response is not a valid JSON response.")};if(!e||!e.json)throw t;return e.json().catch((()=>{throw t}))})(e).then((e=>{const t={code:"unknown_error",message:cn("An unknown error occurred.")};throw e||t}))}var Ln=(e,t)=>{if(!(e.path&&-1!==e.path.indexOf("/wp/v2/media")||e.url&&-1!==e.url.indexOf("/wp/v2/media")))return t(e);let n=0;const r=e=>(n++,t({path:`/wp/v2/media/${e}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch((()=>n<5?r(e):(t({path:`/wp/v2/media/${e}?force=true`,method:"DELETE"}),Promise.reject()))));return t({...e,parse:!1}).catch((t=>{const n=t.headers.get("x-wp-upload-attachment-id");return t.status>=500&&t.status<600&&n?r(n).catch((()=>!1!==e.parse?Promise.reject({code:"post_process",message:cn("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(t))):On(t,e.parse)})).then((t=>En(t,e.parse)))};const Cn={Accept:"application/json, */*;q=0.1"},An={credentials:"include"},kn=[(e,t)=>("string"!=typeof e.url||xn(e.url,"_locale")||(e.url=mn(e.url,{_locale:"user"})),"string"!=typeof e.path||xn(e.path,"_locale")||(e.path=mn(e.path,{_locale:"user"})),t(e)),dn,(e,t)=>{const{method:n=_n}=e;return wn.has(n.toUpperCase())&&(e={...e,headers:{...e.headers,"X-HTTP-Method-Override":n,"Content-Type":"application/json"},method:"POST"}),t(e)},bn];const Tn=e=>{if(e.status>=200&&e.status<300)return e;throw e};let jn=e=>{const{url:t,path:n,data:r,parse:i=!0,...o}=e;let{body:a,headers:s}=e;s={...Cn,...s},r&&(a=JSON.stringify(r),s["Content-Type"]="application/json");return window.fetch(t||n||window.location.href,{...An,...o,body:a,headers:s}).then((e=>Promise.resolve(e).then(Tn).catch((e=>On(e,i))).then((e=>En(e,i)))),(e=>{if(e&&"AbortError"===e.name)throw e;throw{code:"fetch_error",message:cn("You are probably offline.")}}))};function Sn(e){return kn.reduceRight(((e,t)=>n=>t(n,e)),jn)(e).catch((t=>"rest_cookie_invalid_nonce"!==t.code?Promise.reject(t):window.fetch(Sn.nonceEndpoint).then(Tn).then((e=>e.text())).then((t=>(Sn.nonceMiddleware.nonce=t,Sn(e))))))}Sn.use=function(e){kn.unshift(e)},Sn.setFetchHandler=function(e){jn=e},Sn.createNonceMiddleware=ln,Sn.createPreloadingMiddleware=fn,Sn.createRootURLMiddleware=un,Sn.fetchAllMiddleware=bn,Sn.mediaUploadMiddleware=Ln;var Dn=Sn;wt()(console.error);function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn,Bn,Fn,Rn,zn,Hn,qn={"":{plural_forms:function(e){return 1===e?0:1}}},Un=(Fn=new kt({}),Rn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";Fn.data[t]=Nn(Nn(Nn({},qn),Fn.data[t]),e),Fn.data[t][""]=Nn(Nn({},qn[""]),Fn.data[t][""])},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return Fn.data[e]||Rn(void 0,e),Fn.dcnpgettext(e,t,n,r,i)},Hn=function(e,t,n){return zn(n,t,e)},Mn&&Rn(Mn,Bn),{setLocaleData:Rn,__:function(e,t){return zn(t,void 0,e)},_x:Hn,_n:function(e,t,n,r){return zn(r,void 0,e,t,n)},_nx:function(e,t,n,r,i){return zn(i,r,e,t,n)},isRTL:function(){return"rtl"===Hn("ltr","text direction")}}),Wn=(Un.setLocaleData.bind(Un),Un.__.bind(Un));Un._x.bind(Un),Un._n.bind(Un),Un._nx.bind(Un),Un.isRTL.bind(Un);var Vn={cachePoints:{},spinners:{},init(e){if("undefined"!=typeof CLDCACHE){Dn.use(Dn.createNonceMiddleware(CLDCACHE.nonce));e.querySelectorAll("[data-cache-point]").forEach((e=>this._bind(e)));const t=document.getElementById("cld_purge_all");t&&(t.disabled="disabled",t.style.width="100px",t.style.transition="width 0.5s",t.addEventListener("click",(()=>{t.dataset.purging||confirm(wp.i18n.__("Purge entire cache?","cloudinary"))&&this._purgeAll(t,!1)})),this._watchPurge(t),setInterval((()=>{this._watchPurge(t)}),5e3))}},getCachePoint(e){return this.cachePoints["_"+e]?this.cachePoints["_"+e]:null},setCachePoint(e,t){const n=document.createElement("div"),r=this._getRow(),i=document.createElement("td");i.colSpan=2,i.className="cld-loading",r.appendChild(i);const o=document.getElementById(t.dataset.slug),a=document.getElementById(t.dataset.slug+"_search"),s=document.getElementById(t.dataset.slug+"_reload"),c=document.getElementById(t.dataset.browser),l=document.getElementById(t.dataset.apply);l.style.float="right",l.style.marginLeft="6px",c.addEventListener("change",(t=>{this._handleManager(e)})),window.addEventListener("CacheToggle",(e=>{e.detail.cachePoint===t&&this._cacheChange(t,e.detail)})),l.addEventListener("click",(e=>{this._applyChanges(t)})),s.addEventListener("click",(t=>{this._load(e)})),a.addEventListener("keydown",(t=>{13===t.which&&(t.preventDefault(),t.stopPropagation(),this._load(e))})),n.className="cld-pagenav",l.cacheChanges={disable:[],enable:[],delete:[]},t.master=o,t.search=a,t.controller=c,t.viewer=t.parentNode.parentNode,t.loader=r,t.table=t.parentNode,t.apply=l,t.paginate=n,t.currentPage=1,t.viewer.appendChild(n),this.cachePoints["_"+e]=t},close(e){e.classList.add("closed")},open(e){e.classList.remove("closed")},isOpen(e){const t=this.getCachePoint(e);let n=!1;return t&&(n=t.controller.checked&&t.master.checked),n},_bind(e){const t=e.dataset.cachePoint;this.setCachePoint(t,e),this._handleManager(t)},_handleManager(e){const t=this.getCachePoint(e);t&&(this.isOpen(e)?(this.open(t.viewer),t.loaded||this._load(e)):(this.close(t.viewer),t.controller.checked=!1))},_load(e){const t=this.getCachePoint(e);let n="100px";t.clientHeight&&(n=t.clientHeight-16+"px"),this._clearChildren(t),t.appendChild(t.loader),this.open(t.loader),t.loader.firstChild.style.height=n,Dn({path:CLDCACHE.fetch_url,data:{ID:e,page:t.currentPage,search:t.search.value},method:"POST"}).then((e=>{t.removeChild(t.loader),this._buildList(t,e.items),this._buildNav(t,e);const n=t.querySelectorAll("[data-master]");yt.bind(n),t.loaded=!0}))},_cacheChange(e,t){const n=t.checked?t.states.on:t.states.off,r=t.checked?t.states.off:t.states.on;this._removeFromList(e,t.item.ID,r)||this._addToList(e,t.item.ID,n),this._evaluateApply(e)},_evaluateApply(e){e.apply.disabled="disabled";const t=e.apply.cacheChanges;let n=!1;for(const e in t)t[e].length&&(n=!0);n&&(e.apply.disabled="")},_applyChanges(e){const t=e.apply.cacheChanges;e.apply.disabled="disabled";for(const n in t)t[n].length&&this._set_state(e,n,t[n])},_watchPurge(e){e.dataset.purging||e.dataset.updating||(e.dataset.updating=!0,Dn({path:CLDCACHE.purge_all,data:{count:!0},method:"POST"}).then((t=>{e.dataset.updating="",0<t.percent&&100>t.percent?(e.disabled="",this._purgeAll(e,!0)):0<t.pending?e.disabled="":e.disabled="disabled"})))},_purgeAll(e,t,n){e.blur();e.dataset.purging=!0,e.style.width="200px",e.style.border="0",e.dataset.title=e.innerText,e.innerText=Wn("Purging cache 0%","cloudinary"),e.style.backgroundImage="linear-gradient(90deg, #2a0 0%, #787878 0%)",this._purgeAction(e,t,n)},_purgeAction(e,t,n){const r=e.dataset.parent;Dn({path:CLDCACHE.purge_all,data:{count:t,parent:r},method:"POST"}).then((t=>{e.innerText=Wn("Purging cache","cloudinary")+" "+Math.round(t.percent,2)+"%",e.style.backgroundImage="linear-gradient(90deg, #2a0 "+t.percent+"%, #787878 "+t.percent+"%)",100>t.percent?this._purgeAction(e,!0,n):n?n():(e.innerText=wp.i18n.__("Purge complete.","cloudinary"),setTimeout((()=>{e.dataset.purging="",e.style.backgroundImage="",e.style.minHeight="",e.style.border="",e.style.width="100px",e.disabled="disabled",e.innerText=e.dataset.title}),2e3))}))},_set_state(e,t,n){this._showSpinners(n),Dn({path:CLDCACHE.update_url,data:{state:t,ids:n},method:"POST"}).then((n=>{this._hideSpinners(n),n.forEach((n=>{this._removeFromList(e,n,t),this._evaluateApply(e),e.apply.disabled="disabled"})),"delete"===t&&this._load(e.dataset.cachePoint)}))},_showSpinners(e){e.forEach((e=>{this.spinners["spinner_"+e].style.visibility="visible"}))},_hideSpinners(e){e.forEach((e=>{this.spinners["spinner_"+e].style.visibility="hidden"}))},_removeFromList(e,t,n){const r=this._getListIndex(e,t,n);let i=!1;return-1<r&&(e.apply.cacheChanges[n].splice(r,1),i=!0),i},_addToList(e,t,n){-1===this._getListIndex(e,t,n)&&e.apply.cacheChanges[n].push(t)},_getListIndex:(e,t,n)=>e.apply.cacheChanges[n].indexOf(t),_noCache(e){const t=this._getNote(wp.i18n.__("No files cached.","cloudinary"));e.viewer.appendChild(t),this.close(e.table)},_clearChildren(e){for(;e.children.length;){const t=e.lastChild;t.children.length&&this._clearChildren(t),e.removeChild(t)}},_buildList(e,t){t.forEach((t=>{if(t.note)return void e.appendChild(this._getNote(t.note));const n=this._getRow(t.ID),r=this._getStateSwitch(e,t,{on:"enable",off:"disable"}),i=this._getFile(e,t,n);n.appendChild(i),n.appendChild(r),e.appendChild(n)}))},_buildNav(e,t){e.paginate.innerHTML="";const n=document.createElement("button"),r=document.createElement("button");n.type="button",n.innerHTML="&lsaquo;",n.className="button cld-pagenav-prev",1===t.current_page?n.disabled=!0:n.addEventListener("click",(n=>{e.currentPage=t.current_page-1,this._load(e.dataset.cachePoint)})),r.type="button",r.innerHTML="&rsaquo;",r.className="button cld-pagenav-next",t.current_page===t.total_pages||0===t.total_pages?r.disabled=!0:r.addEventListener("click",(n=>{e.currentPage=t.current_page+1,this._load(e.dataset.cachePoint)}));const i=document.createElement("span");if(i.innerText=t.nav_text,i.className="cld-pagenav-text",e.paginate.appendChild(n),e.paginate.appendChild(i),e.paginate.appendChild(r),e.paginate.appendChild(e.apply),e.apply.classList.remove("closed"),e.apply.disabled="disabled",t.items.length){const t=document.createElement("button");t.type="button",t.className="button",t.innerText=wp.i18n.__("Purge cache point","cloudinary"),t.style.float="right",e.paginate.appendChild(t),t.addEventListener("click",(n=>{if(confirm(wp.i18n.__("Purge entire cache point?","cloudinary"))){t.dataset.parent=e.dataset.cachePoint;const n=this;t.classList.add("button-primary"),this._purgeAll(t,!1,(function(){n._load(e.dataset.cachePoint)}))}}))}},_getNote(e){const t=this._getRow(),n=document.createElement("td");return n.colSpan=2,n.innerText=e,t.appendChild(n),t},_getRow(e){const t=document.createElement("tr");return e&&(t.id="row_"+e),t},_getFile(e,t){const n=document.createElement("td"),r=document.createElement("label"),i=this._getDeleter(e,n,t);r.innerText=t.short_url,r.htmlFor=t.key,n.appendChild(i),n.appendChild(r);const o=document.createElement("span"),a="spinner_"+t.ID;return o.className="spinner",o.id=a,n.appendChild(o),this.spinners[a]=o,n},_getDeleter(e,t,n){const r=document.createElement("input"),i=[e.dataset.slug+"_deleter"],o=this._getListIndex(e,n.ID,"delete");return r.type="checkbox",r.value=n.ID,r.id=n.key,r.dataset.master=JSON.stringify(i),-1<o&&(r.checked=!0,t.style.textDecoration="line-through"),r.addEventListener("change",(i=>{t.style.opacity=1,t.style.textDecoration="",r.checked&&(t.style.opacity=.8,t.style.textDecoration="line-through");const o=new CustomEvent("CacheToggle",{detail:{checked:r.checked,states:{on:"delete",off:n.active?"enable":"disable"},item:n,cachePoint:e}});window.dispatchEvent(o)})),r},_getStateSwitch(e,t,n){const r=document.createElement("td"),i=document.createElement("label"),o=document.createElement("input"),a=document.createElement("span"),s=(e.dataset.slug,this._getListIndex(e,t.ID,"disable"));return r.style.textAlign="right",i.className="cld-input-on-off-control mini",o.type="checkbox",o.value=t.ID,o.checked=!(-1<s)&&t.active,a.className="cld-input-on-off-control-slider",i.appendChild(o),i.appendChild(a),o.addEventListener("change",(r=>{const i=new CustomEvent("CacheToggle",{detail:{checked:o.checked,states:n,item:t,cachePoint:e}});window.dispatchEvent(i)})),r.appendChild(i),r}};const Qn={bindings:{},parent_check_data:{},check_parents:{},_init(e){const t=e.querySelectorAll("[data-condition]"),n=e.querySelectorAll("[data-toggle]"),r=e.querySelectorAll("[data-for]"),i=e.querySelectorAll("[data-tooltip]"),o=e.querySelectorAll("[data-bind-trigger]"),a=e.querySelectorAll("[data-master]"),s=e.querySelectorAll("[data-file]"),c=e.querySelectorAll("[data-auto-suffix]"),l={};yt.bind(a),c.forEach((e=>this._autoSuffix(e))),o.forEach((e=>this._trigger(e))),n.forEach((e=>this._toggle(e))),t.forEach((e=>this._bind(e))),r.forEach((e=>this._alias(e))),s.forEach((e=>this._files(e,l))),mt(i,{theme:"cloudinary",arrow:!1,placement:"bottom-start",aria:{content:"auto",expanded:"auto"},content:e=>document.getElementById(e.dataset.tooltip).innerHTML}),[...o].forEach((e=>{e.dispatchEvent(new Event("input"))})),Vn.init(e)},_autoSuffix(e){const t=e.dataset.autoSuffix;let n="";const r=[...t.split(";")].map((e=>0===e.indexOf("*")?(n=e.replace("*",""),n):e));e.addEventListener("change",(()=>{const t=e.value.replace(" ",""),i=t.replace(/[^0-9]/g,""),o=t.replace(/[0-9]/g,"").toLowerCase();i&&(-1===r.indexOf(o)?e.value=i+n:e.value=i+o)})),e.dispatchEvent(new Event("change"))},_files(e,t){const n=e.dataset.parent;n&&(this.check_parents[n]=document.getElementById(n),this.parent_check_data[n]||(this.parent_check_data[n]=this.check_parents[n].value?JSON.parse(this.check_parents[n].value):[]),e.addEventListener("change",(()=>{const r=this.parent_check_data[n].indexOf(e.value);e.checked?this.parent_check_data[n].push(e.value):this.parent_check_data[n].splice(r,1),t[n]&&clearTimeout(t[n]),t[n]=setTimeout((()=>{this._compileParent(n)}),10)})))},_compileParent(e){this.check_parents[e].value=JSON.stringify(this.parent_check_data[e]),this.check_parents[e].dispatchEvent(new Event("change"))},_bind(e){e.condition=JSON.parse(e.dataset.condition);for(const t in e.condition)this.bindings[t]&&this.bindings[t].elements.push(e)},_trigger(e){const t=e.dataset.bindTrigger,n=this;n.bindings[t]={input:e,value:e.value,checked:!0,elements:[]},e.addEventListener("change",(function(t){e.dispatchEvent(new Event("input"))})),e.addEventListener("input",(function(){if(n.bindings[t].value=e.value,"checkbox"===e.type&&(n.bindings[t].checked=e.checked),"radio"!==e.type||!1!==e.checked)for(const r in n.bindings[t].elements)n.toggle(n.bindings[t].elements[r],e)}))},_alias(e){e.addEventListener("click",(function(){document.getElementById(e.dataset.for).dispatchEvent(new Event("click"))}))},_toggle(e){const t=this;e.addEventListener("click",(function(n){n.stopPropagation();const r=document.querySelector('[data-wrap="'+e.dataset.toggle+'"]'),i=r.classList.contains("open")?"closed":"open";t.toggle(r,e,i)}))},toggle(e,t,n){if(!n){n="open";for(const t in e.condition){let r=this.bindings[t].value;const i=e.condition[t];"boolean"==typeof i&&(r=this.bindings[t].checked),i!==r&&(n="closed")}}const r=e.getElementsByClassName("cld-ui-input");"closed"===n?(e.classList.remove("open"),e.classList.add("closed"),t&&t.classList.contains("dashicons")&&(t.classList.remove("dashicons-arrow-up-alt2"),t.classList.add("dashicons-arrow-down-alt2")),[...r].forEach((function(e){e.dataset.disabled=!0}))):(e.classList.remove("closed"),e.classList.add("open"),t&&t.classList.contains("dashicons")&&(t.classList.remove("dashicons-arrow-down-alt2"),t.classList.add("dashicons-arrow-up-alt2")),[...r].forEach((function(e){e.dataset.disabled=!1})))}},$n=document.getElementById("cloudinary-settings-page");$n&&window.addEventListener("load",Qn._init($n));var Gn=Qn;n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;window.$=window.jQuery;const Jn={UI:Gn,Settings:i.a,Widget:a.a,GlobalTransformations:c,TermsOrder:d,MediaLibrary:p,Notices:h}}]);